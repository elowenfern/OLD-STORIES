(function(e){var m=window.AmazonUIPageJS||window.P,g=m._namespace||m.attributeErrors,b=g?g("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,m,g){e.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,f,d,k){c.isDefined(b)&&(h.type=b);c.isDefined(a)&&(h.index=a);c.isDefined(q)&&(h.thumbnailIndex=q);c.isDefined(f)&&(h.variant=f);c.isDefined(d)&&(h.color=
d);h.shoppableScene=k||null}function l(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function f(a){a=a.data;d=b.copy(h);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function k(a){f(a);a=b.copy(a);a.data=b.copy(h);n.dispatch("updateView",a)}function e(){d=b.copy(h);l(h.color)}var a,n,h={},d={},m,r;return function(c,g){n=g;a=c;n.register("updateSelection",k);n.register("updateModel",f);n.register("resetModel",e);this.init=function(){l()};this.getCurrentItem=
function(){return b.copy(h)};this.getPreviousItem=function(){return b.copy(d)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){r=a};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(d.type,d.index,d.thumbnailIndex,d.variant,d.color,d.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";e.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,e,l){this.getImageHash=function(f){var k=l.getCurrentItem();f=b.getIndexForVariant(k.color,f||"MAIN",c);return b.getImageHash(k.color,f,c)};this.onImageUpdateForTwister=function(b){e.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";e.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,e,l,f){var k={};return function(g){var a=this;a.dispatch=function(a,c){var d=k[a];l.isDefined(d)&&b.each(d,function(a,b){b.call(m,c)})};a.register=function(a,b){l.isDefined(k[a])||(k[a]=[]);"function"===typeof b&&k[a].push(b)};a.model=new c(g,a);a.view=new e(g,a,a.model);a.api=new f(g,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";e.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,g,l){b=b.extend(!0,
{},g,l);var f=new c(b);e.register("ImageBlockAPI",function(){return f.api});return f})});
/* ******** */
(function(E){var w=window.AmazonUIPageJS||window.P,U=w._namespace||w.attributeErrors,n=U?U("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):w;n.guardFatal?n.guardFatal(E)(n,window):n.execute(function(){E(n,window)})})(function(E,w,U){E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(n,b,d,ca,l,M,G){function L(a,r,c,k,m){if(!d.isjQueryObjDefined(a.find(".a-button-selected"))){var f=
F.getCurrentItem();if(!k||"chromeless-video"!==f.type||!g.autoplayVideo){k=0;"image"===f.type&&(k=Math.max(d.getIndexForVariant(f.color,f.variant,g),0));var e=0;d.isDefined(g.heroImage[f.color])&&(e=g.heroImage[f.color].length);m=k-(r>=g.maxAlts?g.maxAlts-m-e:0);r=0<=m?r+m:k+e;r>=c&&(k=0,r=e);c=d.getImageHash(f.color,k,g);-1!==c&&(v.dispatch("updateModel",{data:{index:k,thumbnailIndex:r,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=a.find(".item").get(r),d.selectGivenThumbnail(b(c),
a))}}}function H(a){if(!g.useChildVideos)return d.lazyLoadingRequired(F.getCurrentItem(),F,g)?void 0:g.videos;if(g.colorToVideo[a])return g.colorToVideo[a];var b=g.colorToAsin[a];if(b&&b.asin){var c={};c.params={asin:b.asin,productGroupID:g.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:g.useChromelessVideoPlayer,isUDP:g.isUDP};g.isDPXFeatureEnabled||(c.success=function(a){videosOnTwisterRefresh(a)},ca.load(VIDEO_AJAX_ENDPOINT,c));return g.colorToVideo&&g.colorToVideo[a]}}function t(z,
r,c){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&c)return z;var k=H(r),m=d.isDefined(k)&&0<k.length&&g.alwaysIncludeVideo?1:0;r=g.colorImages&&g.colorImages[r];var k=z,f=0;d.isDefined(r)&&(b.each(r,function(e,p){if(f>=g.maxAlts-m&&z<g.maxAlts+g.additionalNumberOfImageAlts){if(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){var r=b(".thumbItemUnrolled");r[z]?r[z].querySelector("img").src=p.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(z+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(z+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(z+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+p.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else d.createThumbnail({type:"image",
index:e,thumbnailIndex:z,variant:p.variant,shoppableScene:p.shoppableScene},p.thumb,a,"imageThumbnail");z++}f++}),M.isEnabled&&G.logAltImgRequestPlacedOnThumbnails(b,M,F),L(a,k,z,c,m));return z}function A(a,b){g.useIV&&d.isDefined(b.hiRes)&&a.css("cursor","pointer")}function C(a,r){if("image"===a.type){var c=b("#image-canvas-caption #canvasCaption"),k,m=g.staticStrings,f=g.colorImages,e=a.color,p=a.index;d.isShoppableScenesEnabled()&&a.shoppableScene?k=m.clickSceneTagsToShopProducts:r&&g.useIV?k=
m.clickToExpand:f[e]&&f[e][p].hiRes&&g.useHoverZoom?(k=g.useHoverZoomIpad?m.touchToZoom:g.useClickZoom?m.clickToZoom:m.rollOverToZoom,g.hoverZoomIndicator&&(k="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+k)):g.useIV&&(k=m.clickToExpand);c.html(k)}}function I(a,k){var c="a-dynamic-image";if(!g.acEnabled){var h;b.each(a.main,function(a,f){d.isDefined(h)||(h=parseFloat(f[1]/f[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=h}var m=d.getMaxDimensionsOfMainImage(a.main,
x,g),f=m[0],e=m[1],m=b("\x3cdiv\x3e\x3c/div\x3e"),f={"max-height":f,"max-width":e};m.addClass(c).css(f).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:k}).data("a-dynamic-image",a.main);return m}function u(a,d,b){var k="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",k,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+a);b=q.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
b.addClass("celwidget").attr("cel_widget_id",k);b.children("span").css("display","inline-block");v.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:d.shoppableScene,imageSource:d.hiRes||d.large||d.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});"MutationObserver"in w&&(new MutationObserver(function(b,f){b.forEach(function(e){"childList"===e.type&&e.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===e.addedNodes.length&&"IMG"===e.addedNodes[0].tagName&&""!==e.addedNodes[0].src&&(e=e.addedNodes[0],"function"!==typeof e.onload&&(e.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:d.shoppableScene})}),f.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",k,{wb:1});return b}function y(a,b,k){k=I(a,k);a=d.isShoppableScenesEnabled()&&a.shoppableScene?u(b,a,k):q.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(k);q.find(".list").append(a);n.loadImageManually(k);return a}function K(a){var b=x.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");g.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}function N(a,
k,c,h){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&!h&&"unavailable"!==a.type){a=g.colorImages&&g.colorImages[c];k=b(".unrolledImg");c=H(c);var m=d.isDefined(c)&&0<c.length&&g.alwaysIncludeVideo?1:0;k.length>g.maxAlts&&k.each(function(a){a>=g.maxAlts&&b(this).remove()});d.isDefined(a)&&b.each(a,function(a,e){a<g.maxAlts-m+g.additionalNumberOfImageAlts&&a>=g.maxAlts-m&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(a+m+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+m)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(a+m)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
e.large+'" data-a-hires\x3d"'+e.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))})}else if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){c=d.getImageHash(a.color,a.index,g);if(-1===c)return k={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},d.lazyLoadingRequired(a,F,g)||(v.dispatch("updateModel",k),d.showUnavailable(a.color)),-1;h=q.find(".item.itemNo"+a.thumbnailIndex);d.isjQueryObjDefined(h)||
(h=y(c,a.thumbnailIndex,k));K(h);v.dispatch("loadMagnifier");C(a);A(h,c);n.trigger("dp:image-block:update",c)}}function h(a){var b=F.getCurrentItem().color;g.colorImages[b]||(g.colorImages[b]=a);a={type:"updatedData",data:F.getCurrentItem()};v.dispatch("updateView",a);(b=g.colorToAsin[b])&&b.asin&&E.register(d.rankedImagesReadyEvent(b.asin))}function c(){var a=q.find(".item .imgTagWrapper"),k=d.getContainerHeight(x,g.holderRatio,g.holderMaxHeight);0<k&&(x.height(k),a.height(k));q.find("img.a-dynamic-image").each(function(){var a=
b(this);a.data("a-manual-replacement")&&n.loadDynamicImage(this);var k=a.data("a-dynamic-image"),k=d.getMaxDimensionsOfMainImage(k,x,g);a.css({"max-height":k[0]+"px","max-width":k[1]+"px"})})}function k(a){C(F.getCurrentItem(),"mouseenter"===a.type)}var R,g,F,v,a,q,x,D;return function(l,r,u,C){R=this;g=l;F=r;v=C;n.on("triggerImageAjax",h);g.colorImages[g.landingAsinColor]=g.colorImages[g.defaultColor];R.render=function(k,f,e,p,c,B,Q){q=e;a=p;x=c;D=t(f,k,B);B||(f=F.getCurrentItem(),d.lazyLoadingRequired(f,
F,g)&&v.dispatch("updateModel",{data:{type:"lazy-loaded"}}));f=F.getCurrentItem();e=!B;d.lazyLoadingRequired(f,F,g)||(b("#imageBlock").css("opacity","1"),q.css("opacity","1"),d.spinner(q,!1),q.find("li").removeClass("selected"),b("#image-canvas-caption #canvasCaption").empty(),d.hideUnavailable(),e&&q.find(".list .item").remove());N(F.getCurrentItem(),Q,k,B);return D};R.update=function(a){};g.overrideAltImageClickAction&&d.addTag("clickEnabledOnAltImages");v.register("imageHover",k);v.register("resize",
c)}});"use strict";E.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(n,b,d){var w,l,M,G;return function(b,H,t,A){w=this;l=b;M=A;w.render=function(b,t,u,y,A,N,h){G=y;w=this;u=l.maxAlts;y=t;A=l.colorImages[b]?l.colorImages[b].length:0;A+=d.getVideosCount(b,l);b=l.heroImage[b];N=0;b&&(N=b.length);b=A+N;b>u&&(u=b-u,b=G.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),u+="+",y={type:"ingress",index:0,
thumbnailIndex:t,variant:""},b.find("#altIngressText").append(u),n.declarative.create(b,"thumb-action",y),G.append(b),y=t++);return y};w.update=function(b){"ingress"===b.data.type&&"click"===b.type&&M.dispatch("imageClick",b)}}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(n,b,d,w){function l(k,c,g,h){if(!d.isjQueryObjDefined(k.find(".a-button-selected"))){var v=y.getCurrentItem();if(!h||"chromeless-video"!==v.type||!u.autoplayVideo){h=
0;if("hero-image"===v.type){h=G(v.color,v.variant);if(-1===h)return;h=-1!==h?h:0}var a=c+h;a>=g&&(h=0,a=c);c=w.getHeroImageHash(u,v.color,h);-1!==c&&(K.dispatch("updateModel",{data:{index:h,thumbnailIndex:a,variant:c.variant,type:"hero-image"}}),c=k.find(".item").get(a),d.selectGivenThumbnail(b(c),k))}}}function M(k,c,g){if("hero-video"===y.getCurrentItem().type)return k;c=u.heroImage&&u.heroImage[c];var h=k;d.isDefined(c)&&(b.each(c,function(b,a){k<u.maxAlts&&(d.createThumbnail({type:"hero-image",
index:b,thumbnailIndex:k,variant:a.variant},a.thumb,N,"imageThumbnail"),k++)}),l(N,h,k,g));return k}function G(k,c){var h=u.heroImage;if(1>h.length||!d.isDefined(h[k])||!d.isDefined(c))return-1;var l=-1;b.each(h[k],function(b,a){a.variant===c&&(l=b)});return l}function L(){if(h.length&&u.repositionHeroImage){var b=w.getHeroDimParams(u,y.getCurrentItem()),c;d.isDefined(b)&&(c=d.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ",h.css({"background-position":c,"background-size":b.width+
"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"","-ms-filter":""}))}}function H(b,c,g,l){if(h.length&&b&&c){if("function"===typeof g||l){var v=new Image;v.onload=l?function(){h.css("background-image",'url("'+b+'")')}:g;v.src=b}g=c[1];var v=c[0],a;l||h.css({"background-image":'url("'+b+'")'});u.repositionHeroImage&&(c=w.getHeroDimParams(u,y.getCurrentItem(),c),d.isDefined(c)&&(g=c.width,v=c.height,a=d.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+
"px "));h.css({"background-position":a,"background-size":g+"px "+v+"px ","max-width":g+"px ","min-height":v+"px ",filter:"","-ms-filter":""})}}function t(c,d,h,l){c=w.getHeroImageHash(u,c,d);if(-1===c)return-1;d=b.map(c.main,function(b,a){return a})[0];H(d,c.main[d],h,l)}function A(b,c,d){if("hero-image"!==b.type)return-1;var h=G(b.color,y.getCurrentItem().variant),h=-1!==h?h:0;if(-1===w.getHeroImageHash(u,b.color,h))return-1;var l=y.getCurrentItem();b.thumbnailIndex=l.thumbnailIndex;b.type=l.type;
b.variant=l.variant;b.index=h;C(b,c,d)}function C(b,d,g){var l=w.getHeroImageHash(u,b.color,b.index),v;v=b&&c&&n.equals(b,c)?!0:!1;c||(c=b);if(!v&&b||d)t(b.color,b.index,d,g),c=b;h.removeClass("hide-background");n.trigger("dp:image-block:update",l)}var I,u,y,K,N,h,c={};return function(c,l,g,n){I=this;u=c;y=l;K=n;u.heroImage[u.landingAsinColor]=u.heroImage[u.defaultColor];I.render=function(c,a,d,k,g,l,r){N=k;h=b("#heroImage");c=M(a,c,l);A(y.getCurrentItem(),r,l);return c};I.update=function(b){var a=
b.data;"ingress"!==a.type&&h.addClass("hide-background");"swatchHover"===b.type?b.captured||(a.type=y.getCurrentItem().type,-1!==A(a)&&(b.captured=!0)):"hero-image"===a.type&&(C(a),"click"!==b.type&&u.usePeekHover||d.selectGivenThumbnail(b.$declarativeParent,N))};K.register("resize",L)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(n,b,d,E,l,M){function G(b){N?b.css("cursor","url('"+C.staticImages.zoomIn+
"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))}function L(b){var c=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(d.isDefined(c))for(var c=c[1].split("_"),k=0;k<c.length;k++){var l=c[k].match(/^([A-Z]+)(\d+(\.\d+)?)$/);d.isDefined(l)&&(b[l[1]]=parseInt(l[2],10))}return b}function H(h,c){function k(){var a;c.useClickZoom?(a=c.offsetInClickZoom,a=[Math.min(1,Math.max(0,y[0]-(f[0]+a))/(f[2]-2*a)),Math.min(1,Math.max(0,y[1]-(f[1]+a))/(f[3]-
2*a))]):a=A&&A.updatePosition();if(a&&r&&r.detailSize){var b=[r.detailSize[0]-r.rect.width,r.detailSize[1]-r.rect.height];n.capabilities.rtl?r.detailImage.get(0).style.right=-(a[0]*b[0])+"px":r.detailImage.get(0).style.left=-(a[0]*b[0])+"px";r.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function u(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function g(a){var f=Q?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";y=Q?[f.pageX,f.pageY]:[a.pageX,a.pageY];if(n.capabilities.rtl){var e=
b(w).width();y=Q?[e-f.pageX,f.pageY]:[e-a.pageX,a.pageY]}}function t(a){Q&&a.preventDefault();g(a);c.useClickZoom?a=[f[0],f[1],f[0]+f[2],f[1]+f[3]]:(a=A?A.offset:h.offsetParent().offset(),a=C.acEnabled?[a.left,a.top,D.width()+a.left,D.height()+a.top]:[m[0]+a.left,m[1]+a.top,m[0]+m[2]+a.left,m[1]+m[3]+a.top]);y[0]<a[0]||y[1]<a[1]||y[0]>=a[2]||y[1]>=a[3]||C.acEnabled&&!u(h)?(c.fadeMagnifier?Y||(Y=!0,I=setTimeout(function(){v(!0)},500)):c.useClickZoom||v(),H&&(H=!1,clearTimeout(K))):(H||(H=!0,K=setTimeout(function(){E.postCountMetric("dppc_hoverZoomOpened");
l.isEnabled&&M.logHoverZoomRequestServed(l)},1E3)),c.fadeMagnifier&&Y&&(Y=!1,clearTimeout(I)),k())}function v(f){f&&x.suppressMagnifier(!0);if(p&&(r&&r.hide(),A&&(A.destroy(),A=null),p=!1,Q?(h.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),q(),f))h.one("click.magnifier touchstart.magnifier",function(b){a(b,!0)})}function a(a,e){e&&x.suppressMagnifier(!1);if(!p&&
!P&&(0===W&&(E.postCountMetric("dppc_hoverTime",new Date-(w.ue&&w.ue.t0||0)),W=1),V[B]||(E.postCountMetric("dppc_hoverMain"),V[B]=1),m=[h.position().left,h.position().top,h.width(),h.height()],B&&(g(a),r?r.refit().show():r=new ba,c.useClickZoom||(A=A||new X),f=r.getWindowSize(),k()),p=!0,Q?(h.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",t).bind("touchend.magnifier",v),b(document).trigger("engaged.magnifier")):(C.acEnabled?D.unbind("mousemove.magnifier"):h.unbind("mousemove.magnifier"),
b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",t)),e)){var d=b("#zoomWindow");if(0<d.length)d.one("click.magnifier touchend.magnifier",function(a){v(!0)})}}function q(){c.useHoverZoom&&(Q?h.bind("touchstart.magnifier touchmove.magnifier",a):C.acEnabled?u(h)&&D.bind("mousemove.magnifier",a):h.bind("mousemove.magnifier",a))}var x=this,D=h.offsetParent(),z={detailImageUrl:h.attr("data-old-hires"),location:"over",locationElement:h,prelaod:"ready",zIndex:50,offsetInClickZoom:50};c=
b.extend(z,c);c.adjustment=[10,0,-10,0];var r=null,A=null,y=null,m=null,f=null,e={"null":1,"":1,undefined:1},p=!1,P=!1,B=c.detailImageUrl,Q=c.useHoverZoomIpad||0,W=0,V={},X=function(){function a(b){var f=Math.round(Math.min(h.width(),r.rect.width/b));b=Math.round(Math.min(h.height(),r.rect.height/b));p.css({width:f,height:b});e=[f,b]}var f=this,e=[0,0],d=(r.detailSize&&r.detailSize[0]||5E8)/m[2],B=(r.detailSize&&r.detailSize[1]||5E8)/m[3],d=B>d?B:d;b("#magnifierLens").remove();var p=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
c.generalImageUrls.zoomLensBackground&&p.css({backgroundImage:"url("+c.generalImageUrls.zoomLensBackground+")"});C.showMagnifierOnHover?G(p):p.css("cursor","pointer");f.updatePosition=function(){var a=[m[2]-e[0],m[3]-e[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(y[0]-e[0]/2-m[0]-f.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(y[1]-e[1]/2-m[1]-f.offset.top)/a[1])),d=m[0]+Math.round(b*a[0]),a=m[1]+Math.round(c*a[1]);p.get(0).style.left=d+"px";p.get(0).style.top=a+"px";return[b,c]};f.destroy=function(){p.remove()};
f.offset=h.offsetParent().offset();a(d);f.updatePosition();p.appendTo(h.parent());r.detailImage[0].complete||r.detailImage.load(function(){var b=r.detailImage.width()/m[2];a(b);f.updatePosition()})};X.preload=function(){x.preload(c.generalImageUrls.lensBackgroundUrl)};var ba=function(){function a(){var f={};if("over"===c.location){var f=c.useClickZoom,B={},J=b("#leftCol"),k=b("#centerCol"),Q=b("#rightCol"),l=b("#hover-zoom-end"),m=b("#actionPanelContainer"),X=d.isjQueryObjDefined(J)?J.outerHeight():
k.outerHeight();B.top=d.isjQueryObjDefined(J)?J.offset().top:k.offset().top;B.bottom=X+B.top;B.right=d.isjQueryObjDefined(Q)?Q.offset().left:m.offset().left;B.left=f?0:J.offset().left+J.outerWidth();d.isjQueryObjDefined(l)&&l.offset().top>B.bottom&&(B.bottom=l.offset().top);f=B}else"right"===c.location&&(f=h.offset(),f={left:f.left+h.outerWidth(),top:f.top,right:f.left+h.outerWidth()+400,bottom:f.top+400});c.minHeightElement&&(f.bottom=Math.max(f.bottom,f.top+b(c.minHeightElement).outerHeight()));
f.bottom=Math.min(f.bottom,b(w).scrollTop()+b(w).height());f.left+=p[0];f.top+=p[1];f.right+=p[2];f.bottom+=p[3];f.width=f.right-f.left;f.height=f.bottom-f.top;c.enhancedHoverOverlay&&d.isDefined(w.pageXOffset)&&(B=b(w).width(),f.width=B-f.left+w.pageXOffset-18,f.height-=14);g.css({left:f.left,top:f.top,width:f.width,height:f.height});e.rect=f;return e}function f(a){var b=new Image;e.detailSize=[0,0];b.onload=function(){e.detailSize=[b.width,b.height];k()};b.src=a.attr("src");if(0<b.width&&0<b.height)e.detailSize=
[b.width,b.height];else if(c.detailImageSize)e.detailSize=c.detailImageSize;else{a=L(b.src);var d=m[2]/m[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/d)]:a.SY?e.detailSize=[Math.round(a.SY*d),a.SY]:a.SL&&(e.detailSize=1<=d?[a.SL,Math.round(a.SL/d)]:[Math.round(a.SL*d),a.SL])}}var e=this,p=c.adjustment;b("#zoomWindow").remove();var J={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:c.zIndex};c.enhancedHoverOverlay&&(J.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
J.border="1px solid #949494",J.borderColor="rgb(148,148,148)");var g=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(J);c.fadeMagnifier&&g.fadeIn(200);c.useClickZoom&&(N?g.css("cursor",'url("'+c.zoomOutIcon+'"), auto'):(g.css("cursor","-webkit-zoom-out"),g.css("cursor","-moz-zoom-out"),g.css("cursor","zoom-out")));e.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();g.append(a);b(document).trigger("updated.magnifier");
e.detailImage=a;f(e.detailImage)};e.refit=function(){a();f(e.detailImage);return e};c.fadeMagnifier?(e.show=function(){g.fadeIn(200);return e},e.hide=function(){g.fadeOut(200);return e}):(e.show=function(){g.show();return e},e.hide=function(){g.hide();return e});e.destroy=function(){g.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(B);a();g.appendTo(document.body)},Y=!1,I,H=!1,K;x.preload=function(a){a=b.makeArray(a);for(var f=
a.length,d=0;d<f;d++)a[d]instanceof Array?x.preload(a[d]):"string"===typeof a[d]&&a[d]&&!e[a[d]]&&(e[a[d]]=new Image,e[a[d]].src=a[d])};x.changeImage=function(a,f){p&&v();B=f;h.attr("src",a);x.preload(a);m=[h.position().left,h.position().top,h.width(),h.height()];f&&("immediately"===c.preload?x.preload(f,!0):b(w).ready(function(){x.preload(f)}),r?r.updateImage(f):h.attr("data-old-hires",f))};x.destroy=function(){C.acEnabled?D.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
h.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");A&&A.destroy();A=null;r&&r.destroy();r=null};x.detailImage=function(){return r.detailImage};x.suppressMagnifier=function(a){P=a};x.isEngaged=function(){return p};x.engageMagnifier=a;x.disengageMagnifier=v;h[0].complete?q():h.one("load",q);x.preload(h.attr("src"));w.performance&&performance.now&&w.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(c.preload){var T=
c.detailImageUrl,z=function(){x.preload(T,!0);c.useClickZoom||X.preload()},J=c.preload;J.constructor!==Array&&(J=[J]);for(var Z=0;Z<J.length;Z++)if("immediately"===J[Z])z();else if(b(w)[J[Z]])b(w)[J[Z]](z);else b(w).bind(J[Z],z)}return x}function t(){if(C.useHoverZoom){var h={adjustment:[0,0,1,1],generalImageUrls:C.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:C.useHoverZoomIpad,useHoverZoom:C.useHoverZoom,useClickZoom:C.useClickZoom,fadeMagnifier:C.fadeMagnifier,
zoomOutIcon:C.staticImages.zoomOutCur,enhancedHoverOverlay:C.enhancedHoverOverlay||C.atfEnhancedHoverOverlay};y&&(y.destroy(),y=U);var c=K.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");d.isjQueryObjDefined(c)?C.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(b){y=new H(c,h);y.engageMagnifier(b,!0)}),N?c.css("cursor",'url("'+C.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),c.css("cursor",
"-moz-zoom-in"),c.css("cursor","zoom-in"))):y=new H(c,h):l.isEnabled&&M.logHoverZoomApplicability(b,l)}}var A,C,I,u,y,K,N=navigator.userAgent.match(/msie|trident/i);return function(b,d,k,n){A=this;C=b;I=d;l.refToModel=I;u=n;A.render=function(b,d,c,a,h,k){K=c;y&&(y.destroy(),y=U)};A.update=function(b){};u.register("loadMagnifier",t);u.register("resize",t)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(n,b,d,E){function l(b,l,n){b=(b=n?
n:d.getColorFromState(l.getState().hovered_variations,L))&&""!==b?b:L.defaultColor;t.dispatch("updateView",{type:"swatchHover",data:{color:b}});E.postCountMetric("swatchHover")}function M(b,l,n,u){b=(b=u?u:d.getColorFromState(l.getState().selected_variations,L))&&""!==b?b:L.defaultColor;b===H.getCurrentItem().color?"function"===typeof n&&n():(t.dispatch("updateSelection",{type:"swatchClick",data:{color:b},onload:function(){var b={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof w.markFeatureRender&&
w.markFeatureRender("imageblock",b);n()}}),E.postCountMetric("swatchClick"))}var G,L,H,t;return function(b,d,w,u){G=this;L=b;H=d;t=u;n.on("image-block-twister-swatch-hover",l);n.on("image-block-twister-swatch-click",M);G.render=function(b,d,l,h,c){};G.update=function(b){}}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(n,b,d,ca,l,M,G){function L(f,e,c,p){if(!d.isjQueryObjDefined(f.find(".a-button-selected"))){var g=
q.getCurrentItem();if(!p||"chromeless-video"!==g.type||!a.autoplayVideo)if(p=0,"image"===g.type&&(p=Math.max(C(g.color,g.variant),0)),!(g.thumbnailIndex>=a.maxAlts&&0!=p)){var h=e+p;h>=c&&(p=0,h=e);e=d.getImageHash(g.color,p,a);-1!==e&&(x.dispatch("updateModel",{data:{index:p,thumbnailIndex:h,variant:e.variant,type:"image",shoppableScene:e.shoppableScene}}),e=f.find(".item").get(h),d.selectGivenThumbnail(b(e),f))}}}function H(f,e,c){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&
c)return f;var p=a.colorImages&&a.colorImages[e];e=f;2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment||b(".thumbItemUnrolled").each(function(f){(!b(this)[0].classList.contains("thumbTypeimage")||f>=p.length||f>=a.maxAlts)&&b(this).remove()});d.isDefined(p)&&(b.each(p,function(e,c){if(f<a.maxAlts)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){f++;var g=b(".thumbItemUnrolled");g[e]?g[e].querySelector("img").src=c.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+f+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+f+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+f+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else{var g=
{type:"image",index:e,thumbnailIndex:f,variant:c.variant,shoppableScene:c.shoppableScene},h=d.createThumbnail(g,c.thumb,r,"imageThumbnail");a.collapsibleThumbnails&&d.updateImageThumbnailOverlay(h,g,p);f++}}),M.isEnabled&&G.logAltImgRequestPlacedOnThumbnails(b,M,q),L(r,e,f,c));return f}function t(f,b){a.useIV&&d.isDefined(b.hiRes)&&f.css("cursor","pointer")}function A(f,e){if("image"===f.type){var c=b("#image-canvas-caption #canvasCaption"),p,g=a.staticStrings,h=a.colorImages,k=f.color,l=f.index;
d.isShoppableScenesEnabled()&&f.shoppableScene?p=g.clickSceneTagsToShopProducts:e&&a.useIV?p=g.clickToExpand:h[k]&&h[k][l].hiRes&&a.useHoverZoom?(p=a.useHoverZoomIpad?g.touchToZoom:a.useClickZoom?g.clickToZoom:g.rollOverToZoom,a.hoverZoomIndicator&&(p="\x3cimg src\x3d'"+a.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+p)):a.useIV&&(p=g.clickToExpand);c.html(p)}}function C(f,b){return d.getIndexForVariant(f,b,a)}function I(f,b,e){var d=b.thumbnailIndex,c=a.colorToAsin[b.color]&&a.colorToAsin[b.color].asin;
b="altImageHover"===e&&m&&m.altImageIdx===d&&m.asin===c&&"swatchClick"===m.event?!0:"swatchHover"===e?m&&m.asin===c&&m.event===e:m&&m.altImageIdx===d&&m.asin===c&&m.event===e;if(!b){var g="#",h=f.find(".imgTagWrapper img").get(0);h&&(g=h.src);f=new Image;f.onload=function(){if(h){h.src=g;var a=h.width,f=h.height,b=h.naturalWidth,B=h.naturalHeight;try{var J=(Math.abs(a/b*B-f)/f).toFixed(2);.01<J&&(w.ue&&((("landing"!==e||p||P)&&"swatchClick"!==e||w.ue.count("imageBlock-PC-hi_res_image_distortion",
1),"landing"===e||"swatchClick"===e)?w.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==e||P?"altImageHover"!==e||p||(w.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),p=!0):(w.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),P=!0)),w.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},w.ueLogError("swatchHover"===e?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+c+" Event:"+e+" Diff:"+J.toString()+"]"}:
{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+c+" at altImageIdx "+d+" Event:"+e+" Diff:"+J.toString()+"]"},a)))}catch(k){w.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},w.ueLogError(k,a))}}};"#"!==g&&(f.src=g);m.altImageIdx=d;m.asin=c;m.event=e}}function u(f,e){var c="a-dynamic-image";if(!a.acEnabled){var p;b.each(f.main,function(f,b){d.isDefined(p)||(p=parseFloat(b[1]/b[0])<=parseFloat(a.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});
c+=p}var g=d.getMaxDimensionsOfMainImage(f.main,S,a),h=g[0],k=g[1],g=b("\x3cdiv\x3e\x3c/div\x3e"),h={"max-height":h,"max-width":k};g.addClass(c).css(h).attr({"data-old-hires":f.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",f.main);return g}function y(a,f,b){var e="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",e,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+a);b=O.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
b.addClass("celwidget").attr("cel_widget_id",e);b.children("span").css("display","inline-block");x.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:f.shoppableScene,imageSource:f.hiRes||f.large||f.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});"MutationObserver"in w&&(new MutationObserver(function(b,e){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:f.shoppableScene})}),e.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",e,{wb:1});return b}function K(a,f,b){b=u(a,b);a=d.isShoppableScenesEnabled()&&a.shoppableScene?y(f,a,b):O.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+f+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":f+1});a.find(".placeHolder").replaceWith(b);O.find(".list").append(a);n.loadImageManually(b);n.trigger("dp:image-block:imageBlockImageLoad",f);return a}function N(f){var b=S.css("height");null!==b&&f.find(".imgTagWrapper").css("height",b);f.addClass("selected");a.imgTagWrapperClasses&&f.find(".imgTagWrapper").addClass(a.imgTagWrapperClasses)}
function h(a){if(a.isUserGenerated){var f=q.getPreviousItem(),b=a.variant;d.isDefined(b)&&f.thumbnailIndex!==a.thumbnailIndex&&(M.isEnabled&&G.logAltImgRequestServed(M),l.postCountMetric("ImageThumbnailSelectedVariant:"+b),0===b.indexOf("IG")&&(l.postCountMetric("IGImageSelectedVariant:"+b),l.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function c(f,e,c,g){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&!g&&"unavailable"!==f.type){if(f=a.colorImages&&a.colorImages[c],
b(".unrolledImg").each(function(a){b(this).remove()}),d.isDefined(f)&&(b.each(f,function(f,e){if(f<a.maxAlts){var c=b(".unrolledImg");c[f]?b(".unrolledImg #unrolledImgNo"+f+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+e.large+'" data-a-hires\x3d"'+e.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):f>=c.length&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(f+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
f+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+f+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
e.large+'" data-a-hires\x3d"'+e.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))}}),n.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),c=d.isDefined(e)))l.postCountMetric("mainImageUpdateOnTwisterVariationClick"),e()}else if("image"===f.type||"unavailable"===f.type||"lazy-loaded"===f.type){(c=d.isDefined(e))&&l.postCountMetric("mainImageUpdateOnTwisterVariationClick");
g=d.getImageHash(f.color,f.index,a);if(-1===g)return e={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},d.lazyLoadingRequired(f,q,a)||(x.dispatch("updateModel",e),d.showUnavailable(f.color)),-1;var k=O.find(".item.itemNo"+f.thumbnailIndex);d.isjQueryObjDefined(k)||(k=K(g,f.thumbnailIndex,e),c?(P=p=!1,I(k,f,"swatchClick")):I(k,f,"altImageHover"));N(k);x.dispatch("loadMagnifier");A(f);t(k,g);h(f);n.trigger("dp:image-block:update",g)}}function k(f){var b=Math.max(C(f.color,q.getCurrentItem().variant),
0),b=d.getImageHash(f.color,b,a);if(-1===b)return d.lazyLoadingRequired(f,q,a)||d.showUnavailable(f.color),-1;var e=O.find(".swatchHoverExp"),c=u(b);e.find(".imgTagWrapper").html(c);n.loadImageManually(c);l.postCountMetric("mainImageUpdateOnTwisterVariationHover");N(e);I(e,f,"swatchHover");n.trigger("dp:image-block:update",b)}function R(f,e){d.lazyLoadingRequired(f,q,a)||(b("#imageBlock").css("opacity","1"),O.css("opacity","1"),d.spinner(O,!1),O.find("li").removeClass("selected"),b("#image-canvas-caption #canvasCaption").empty(),
d.hideUnavailable(),e&&O.find(".list .item").remove())}function g(){var f=O.find(".item .imgTagWrapper"),e=d.getContainerHeight(S,a.holderRatio,a.holderMaxHeight);0<e&&(S.height(e),f.height(e));O.find("img.a-dynamic-image").each(function(){var f=b(this);f.data("a-manual-replacement")&&n.loadDynamicImage(this);var e=f.data("a-dynamic-image"),e=d.getMaxDimensionsOfMainImage(e,S,a);f.css({"max-height":e[0]+"px","max-width":e[1]+"px"})})}function F(a){A(q.getCurrentItem(),"mouseenter"===a.type)}var v,
a,q,x,D,z,r,O,S,m={},f,e=null,p=!1,P=!1;n.on("triggerImageAjax",function(f){var b=q.getCurrentItem().color;a.colorImages[b]||(a.colorImages[b]=f);f={type:"updatedData",data:q.getCurrentItem()};x.dispatch("updateView",f);(b=a.colorToAsin[b])&&b.asin&&E.register(d.rankedImagesReadyEvent(b.asin))});return function(p,h,m,n){v=this;a=p;q=h;x=n;a.colorImages[a.landingAsinColor]=a.colorImages[a.defaultColor];v.render=function(p,g,h,k,l,m,n,J){O=2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment?
h:b(".unrolledScrollBox");r=k;S=l;f=H(g,p,m);m?0===g&&I(O.find(".item.itemNo0"),q.getCurrentItem(),"landing"):(g=q.getCurrentItem(),d.lazyLoadingRequired(g,q,a)&&x.dispatch("updateModel",{data:{type:"lazy-loaded"}}));R(q.getCurrentItem(),!m);2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment?"swatchClick"===J&&a&&a.colorImages?(e=a.colorImages[p],c(q.getCurrentItem(),n,p,m)):"updatedData"===J&&a&&a.colorImages&&a.colorImages[p]!==e&&(e=a.colorImages[p],c(q.getCurrentItem(),n,p,m)):
c(q.getCurrentItem(),n,p,m);return f};d.isImageBlockGridViewHoverDelayEnabled()?v.update=function(b){var e=b.data;q.setCurrentEvent(b);"ingress"!==e.type&&"swatchHover"!==b.type&&(q.setToPreviousItem(),"mouseenter"===b.type?(z&&clearTimeout(z),z=setTimeout(function(){q.setToCurrentItem(e);R(b.data,!1)},d.getHoveringDelayTimer())):"mouseleave"===b.type?z&&clearTimeout(z):"click"===b.type&&(q.setToCurrentItem(e),R(b.data,!1)));"swatchHover"===b.type?("ingress"!==e.type&&R(b.data,!1),e.color===q.getCurrentItem().color?
c(q.getCurrentItem(),null,e.color,!0):b.captured||-1===k(e)||(b.captured=!0)):"image"===e.type&&(e.interaction=b.type,e.isUserGenerated=!0,"mouseenter"===b.type?(l.postCountMetric("dpcc_imageThumbHovered_"+(e.thumbnailIndex+1)+"_"+f),D&&clearTimeout(D),D=setTimeout(function(){c(e,null,e.color,!0);a.usePeekHover||d.selectGivenThumbnail(b.$declarativeParent,r)},d.getHoveringDelayTimer())):"mouseleave"===b.type?D&&clearTimeout(D):"click"===b.type&&(c(e,null,e.color,!0),d.selectGivenThumbnail(b.$declarativeParent,
r),l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(e.thumbnailIndex+1)+"_"+f)))}:v.update=function(b){var e=b.data;q.setCurrentEvent(b);"ingress"!==e.type&&R(b.data,!1);"swatchHover"===b.type?e.color===q.getCurrentItem().color?c(q.getCurrentItem(),null,e.color,!0):b.captured||-1===k(e)||(b.captured=!0):"image"===e.type&&(e.interaction=b.type,e.isUserGenerated=!0,"mouseenter"===b.type&&l.postCountMetric("dpcc_imageThumbHovered_"+(e.thumbnailIndex+1)+"_"+
f),c(e,null,e.color,!0),a.usePeekHover&&"click"!==b.type||(d.selectGivenThumbnail(b.$declarativeParent,r),"click"===b.type&&(l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(e.thumbnailIndex+1)+"_"+f))))};a.overrideAltImageClickAction&&d.addTag("clickEnabledOnAltImages");x.register("imageHover",F);x.register("resize",g)}});E.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(n,b,d,w){function l(d,h){var c=
b("\x3cimg src\x3d'"+(h?u.staticImages.shoppableSceneDotHighlighted:u.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");c.css({display:h?"none":"inline-block"});c.addClass("mirai-scene-tag").addClass(h?"active-tag":"inactive-tag");return c}function M(d){var h=b("\x3cspan\x3e");n.each(d.tags,function(c){var d=b("\x3cdiv\x3e").css({position:"absolute",left:100*c.left+"%",top:100*c.top+"%",height:"auto",width:"auto"});d.append(l(c,!1));d.append(l(c,!0));d.bind("mouseenter",function(){G(b(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});
n.declarative.create(d,"scenes-show-details-tags-ib",{tagId:c.link});h.append(d)});return h.children()}function G(b){b.addClass("mirai-scene-dot-pulsate");n.delay(function(){b.removeClass("mirai-scene-dot-pulsate")},4E3)}function L(b,d){b.css({display:"none"});d.css({display:"inline-block"})}function H(b,d,c){b.eq(c).css({display:"inline-block"});d.eq(c).css({display:"none"})}function t(b){E.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){n.trigger("mirai:scene-details-change",
{physicalId:b})})}function A(){var d=b("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),h=b("\x3cimg class\x3d'item-tag'\x3e").attr("src",u.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),c=b("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");c.html(u.staticStrings.shoppableSceneViewProductsButton);return d.append(h).append(c)[0].outerHTML}function C(b){function d(){b.$tagPlaceholder.replaceWith(k);var a=k.find(".mirai-scene-tag.active-tag"),c=
k.find(".mirai-scene-tag.inactive-tag");H(a,c,0);G(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));K=!0;b.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+b.index,{wb:1});v=!0;w.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(b.shoppableScene){var c=b.$viewProductsButton.find(".a-button-text");if(0===c.children().length){c.append(A());n.declarative.create(b.$viewProductsButton,"scenes-show-details-view-products-ib",
{tagId:b.shoppableScene.tags[0].link});var k=M(b.shoppableScene),l=k.find(".mirai-scene-tag.active-tag"),g=k.find(".mirai-scene-tag.inactive-tag"),t=b.shoppableScene.physicalId,v=!1;n.on("mirai:index:change",function(a){a.scenePhysicalId===t&&(a=a.selectedIndices[0],L(l,g),H(l,g,a),G(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),K=!0)});n.on("mirai:scene-details-change",function(a){a.physicalId!==t||K||(L(l,g),H(l,g,0),G(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
K=!0)});n.on("mirai:no-products-active",function(a){a.scenePhysicalId===t&&L(l,g)});n.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===t&&(L(l,g),H(l,g,0))});n.on("a:image:load:shoppable-scene:"+b.index,function(){v||(d(),w.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});n.on("shoppable-scene-image-loaded",function(a){a.index!=b.index||v||(d(),w.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});E.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){n.trigger("mirai:scene-side-sheet-init",{icons:u.staticImages,strings:u.staticStrings});n.trigger("mirai:scene-details-init",{scene:b.shoppableScene,imageSource:b.imageSource})})}}}var I,u,y,K=!1;return function(b,h,c,k){I=this;u=b;y=k;d.isShoppableScenesEnabled()?(y.register("initialize-shoppable-scene",C),I.render=function(b,d,c,h,a,k,l){},I.update=function(b){"mouseenter"===b.type&&(b.data.shoppableScene?t(b.data.shoppableScene.physicalId):K=!1)}):(b=function(){},I.render=b,I.update=
b)}});E.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";E.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(n,b,d,E,l,M,G,L,H){function t(a){return null!==a&&"undefined"!==typeof a}function A(a){var e=0;b.each(a,function(a,b){var f=parseInt(b[1],10);f>e&&(e=f)});return e}function C(a){var e=0;b.each(a,function(a,b){var f=
parseInt(b[0],10);f>e&&(e=f)});return e}function I(a,b,d){b=b.width();if(d.naturalMainImageSize)return b;a=A(a);0<a&&(b=Math.min(b,a));return b}function u(a,b,d){b=b.height();if(d.naturalMainImageSize)return b;a=C(a);0<a&&(b=Math.min(b,a));return b}function y(a){var e;b.each(a,function(a,b){t(e)||(e=b[1]/b[0])});return e||1}function K(a,e,c,g,k,l,m,n,r,D,u,v,w,z,t){var J=b.extend({},c.foresterMetadataParams);null!==g&&(J.method+="."+g);var Z=[];e.disabledViewIds&&(Z=e.disabledViewIds);t=t&&t.videoBackgroundChromefulMainView?
t.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===z&&(t="transparent");return d.embed({parentElement:a[0],streamingUrls:e.url,contentId:e.mediaObjectId,contentMinAge:Number(e.minimumAge||"")||0,contentTitle:e.title,swfUrl:c.swfUrl,foresterMetadataParams:J,backgroundColor:t,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:e.slateUrl,postMediaSlate:e.slateUrl},videoAds:c.videoAds,bindings:{play:function(){if("ImmersiveView"===g)q||(q=!0,E.postCountMetric("dppc_chromefulVideoPlayedIV"));
else if(x||(x=!0,E.postCountMetric("dppc_chromefulVideoPlayedPV")),!D){var a=E.buildNexusMetric("ib.thumbnailClick",r,e.mediaObjectId,e.groupType,u,v,w);E.emitNexusMetric(a)}}},cuePoints:[{values:e.durationSeconds-1,type:"position",callback:function(a,b,f){k&&(N(0,l,n),h(m))}}],disabledViewIds:Z})}function N(a,b,d){b.fadeTo(500,0,function(){c(a,d);b.fadeTo(500,1)})}function h(a){a&&a.toggle()}function c(a,e){var d=e.find("img");t(d[a])&&b(d[a]).click()}function k(a,b){r[a]=b?b:r[a];return r[a]}function R(a,
e,d){d=d||z;d=d.colorImages;if(1>d.length||!t(d[a])||!t(e))return-1;var c=-1;b.each(d[a],function(a,b){b.variant===e&&(c=a)});return c}function g(a,e,d){d=d||z;d=d.colorImages;return!(t(d)&&t(d[a])&&t(d[a][e])&&t(d[a][e].main))||1>b.map(d[a][e].main,function(a,b){return b}).length?-1:d[a][e]}function F(a,b,d,c){c.parent().css("z-index",2);0!==d&&0!==b&&(b/=d,a>b?c.css("width",b/a*100+"%"):c.css("height",a/b*100+"%"))}function v(a,e){var d;if(d=a.useIV)d=a.colorImages&&a.colorImages[e]&&0<a.colorImages[e].length?
!0:!1;G.isEnabled&&(G.IVApplicaple=d,L.logImmersiveViewApplicability(b,G));return d}function a(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length||0<b(".gridImageBlockViewLayoutIn1x7").length}var q,x,D,z=b.extend(!0,{},l,M),r={},O=0,S=0,m=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;return{isDefined:t,isDefinedAndEmpty:function(a){return t(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return t(a)?"object"===typeof a&&
0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return t(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:y,getMaxHeightOfMainImage:u,getMaxWidthOfMainImage:I,getMaxDimensionsOfMainImage:function(a,b,d){if(d.acEnabled)return[b.height(),b.width()];var c=u(a,b,d);b=I(a,b,d);a=y(a);d=b/a;b=Math.min(b,c*a);c=Math.min(c,d);return[c,b]},getContainerHeight:function(a,b,d){var c=a.get(0);a=0;if(t(c)){a=c.offsetWidth/b;a=
Math.min(a,d);var g;b=z.mainImageHeightPartitions;d=z.mainImageMaxSizes;if(t(d)&&t(b)){for(var h=0,k=w.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=0;c<b.length;c++)k>b[c]&&(h=c+1);d.length>=h&&(g=d[h])}t(g)&&(a=Math.min(g[1],a))}return a},getColorFromState:function(a,e){if(a){e=e||z;var d="";b.each(e.visualDimensions,function(b,e){a[e]&&(d+=" "+a[e])});return d&&d.substring(1)}},createThumbnail:function(b,e,d,c){var g=d.find(".template").clone().removeClass("template").addClass("item"),
h=document.createElement("img");h.src=e;g.find(".placeHolder").replaceWith(h);(e=b.heroVideoVariant)&&"hero-image"===b.type&&b.variant===e&&g.addClass("heroImageThumbnail");t(c)&&g.addClass(c);a()&&g&&(c=document.createElement("div"),c.className="imageBlockThumbnailImageGrayOverlay",h.parentNode.insertBefore(c,h));n.declarative.create(g,"thumb-action",b);g.attr&&(g.attr("data-ux-click",""),b.type&&b.type.match(/video/)?(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),
g.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-hover")),g.attr("data-csa-c-posy",b.thumbnailIndex+1));d.append(g);return g},updateImageThumbnailOverlay:function(a,b,d){a.find(".textMoreImages").append(d.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){var d=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
d.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,d,c,g,h,k,l){K(a,b,d,c,g,h,k,l,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:K,loadMediaIntoAiry:function(a,b,d,c){a&&a.getMediaSourceInfo()!==b.url&&(c?a.loadMedia?(D={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(D)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):
a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,imageUrl:b.slateUrl}))},showUnavailable:function(a){a&&(b("#imageBlock .unvailableVariation").html(a),b("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){b("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:N,toggleVideoCaption:h,selectThumbnail:c,spinner:function(a,d){var c=b("#imageBlock .a-spinner").parent();0===c.length&&(c=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),a.append(c),c.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px",
"-moz-border-radius":"20px","border-radius":"100%"}));d?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:k,getIndexForVariant:R,getImageHash:g,lazyLoadingRequired:function(a,b,d){b=Math.max(R(a.color,b.getCurrentItem().variant,d),0);b=-1!==g(a.color,b,d);a=d.colorToAsin[a.color]&&d.colorToAsin[a.color].asin;a=!a||"success"!==k(a);return!d.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},
updateAspectRatio:F,repositionVideoBanner:function(a,b,d,c){setTimeout(function(){var d=a.width()/a.height();F(d,16,9,b)},c||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,d){if(d.useChildVideos){if(!t(d.colorToVideo))return-1;a=d.colorToVideo[a]}else a=d.videos;return t(a)&&t(a[b])&&t(a[b].url)?a[b]:-1},isImmersiveViewEnabled:v,playVideoInImmersiveView:function(a,b){return v(a,b)&&a.useTabbedImmersiveView},
useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return t(D)?D.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,d){return{requester:"DetailPageTablet",marketplaceID:d.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:d.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:d.url,imageURL:d.slateUrl}}},addTag:function(a){w.ue&&w.ue.tag&&w.ue.tag(a)},isShoppableScenesEnabled:function(){return H.isEnabled&&
0<b(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:a,isImageBlockGridViewHoverDelayEnabled:function(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return O},updateThumbnailHoverDelay:function(a){if(t(a)){O=0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var d;d=S;a=a.closest("ul").attr("class");a===U?d=!1:(a=
m.exec(a),null===a||3!==a.length?d=!1:(a=a[2],d=Math.floor(d/a)>Math.floor(b/a)));d&&(O=100);S=b}}}}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(n,b,d,ca,l,M){function G(c,e,f,g){!a.autoplayVideo||da||a.useChromelessVideoPlayer?!d.isjQueryObjDefined(c.find(".a-button-selected"))&&(f=q.getCurrentItem(),!g||a.prioritizeVideos||"chromeless-video"===f.type&&a.autoplayVideo)&&(g=d.getVideoHash(f.color,
0,a),-1===g||f.thumbnailIndex>=a.maxAlts-1||(e+=0,x.dispatch("updateModel",{data:{index:0,thumbnailIndex:e,variant:g.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),e=c.find(".item").get(e),d.selectGivenThumbnail(b(e),c))):(d.selectGivenThumbnail(c.find("img:last"),c),d.fadeToThumbnail(c.find("img").length-1,O,c))}function L(b){var c=q.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[c]){var e=function(){if(b){a.colorToVideo[c]=b;var d={type:"updatedData",
data:q.getCurrentItem()};x.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?e():E.when(d.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){e()})}}function H(b){b&&(a.notShowVideoCount=b,b={type:"updatedData",data:q.getCurrentItem()},x.dispatch("updateView",b))}function t(b){if(!a.useChildVideos)return d.lazyLoadingRequired(q.getCurrentItem(),q,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var c=a.colorToAsin[b];if(c&&c.asin){var e={};e.params={asin:c.asin,
productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(e.success=function(a){L(a)},ca.load("/gp/product/features/apparel-main-image/videos.html",e));return a.colorToVideo&&a.colorToVideo[b]}}function A(b){m&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(m.hide(),z.parent().css("z-index",-1),r.hide())}function C(b,c,e){c=O.width()/O.height();var g=parseInt(b.videoWidth,10),k=
parseInt(b.videoHeight,10);d.updateAspectRatio(c,g,k,z);if(m&&"unrolled-video-add"!==e)m.show(),d.loadMediaIntoAiry(m,b,f,a.tabletWeb);else if(a.tabletWeb)m=P;else{if("unrolled-video-add"===e){m=P;return}if(null===P||P===U)T=setInterval(function(){m=P;m!==U&&null!==m&&(m.show(),d.loadMediaIntoAiry(m,b,f,a.tabletWeb),I(),h(m),clearInterval(T),T=null)},500);else if(m=P,m!==U&&null!==m){m.show();d.loadMediaIntoAiry(m,b,f,a.tabletWeb);I();h(m);return}}I();h(m)}function I(){if(2!==a.unrolledImageBlockTreatment&&
3!==a.unrolledImageBlockTreatment)if(d.useTabbedImmersiveView(a)){if(1<d.getVideosCount(q.getCurrentItem().color,a)){if(d.isDefined(S)){r.show();return}S=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.watchMoreVideos);r.find("#videoCaption").append(S);n.declarative.create(S,"videoIngressClick",e)}d.playVideoInImmersiveView(a,q.getCurrentItem().color)&&(n.declarative.create(z,"videoIngressClick",e),z.attr&&z.attr("data-ux-click",""),z.children().css("z-index",
"-1"),z.css("display","inline-block"))}else r.find("#videoCaption").text(a.staticStrings.playVideo),r.show()}function u(b,c){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===c){var e=d.getVideoHash(b.color,b.index,a);if(-1===e)return-1;"chromeful-video"===b.type&&C(e,b.thumbnailIndex+1,c)}}function y(c,f,g){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&g)return c;var h=t(f);f=c;var k=b(".unrolledImg"),m=d.isDefined(h)&&0<h.length&&a.alwaysIncludeVideo?
1:0;d.isDefined(h)&&0<h.length&&!a.alwaysIncludeVideo&&c===a.maxAlts&&l.postCountMetric("IBVideoDrop");k.length>a.maxAlts&&k.each(function(d){d>=a.maxAlts&&b(this).remove()});m&&c===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(b(".thumbItemUnrolled").last().remove(),b(".unrolledImg").last().remove()):D.find(".item:last").remove(),c--);d.isDefined(h)&&(b.each(h,function(f,g){if(c<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var k=
a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";b('\x3cli class\x3d"thumbItemUnrolled thumbType'+k+" thumbIndex"+f+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+
g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b("ul.regularAltImageViewLayout"));b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
c+'" class\x3d"videoIndex'+f+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||K(b(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{var k=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",m={type:k,index:f,thumbnailIndex:c,variant:g.variant};e={type:"video-ingress",index:f,thumbnailIndex:c,variant:g.variant};d.useTabbedImmersiveView(a)&&("chromeful-video"===
k&&(aa+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(aa+=" a-align-top"));d.isImageBlockGridViewDisplayEnabled()&&(aa+=" videoImageBlockGridView");d.createThumbnail(m,g.thumb,D,aa);2===a.dp60VideoPosition&&K(D,a.dp60VideoPosition);if(d.useTabbedImmersiveView(a)){N(D.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL);var m=1<h.length?"multiple-videos":"one-video",n=!0===a.notShowVideoCount?a.staticStrings.multipleVideos:
1<h.length?h.length+" "+a.staticStrings.multipleVideos:a.staticStrings.singleVideo;n&&D.find(".videoBlockIngress").append(D.find("#videoCount_template").clone().text(n).attr("id","videoCount")).addClass(m)}m=l.buildNexusMetric("ib.thumbnailImpression",c+1,g.mediaObjectId,g.groupType,Q,B,W,V);l.emitNexusMetric(m);m=l.buildNexusMetric("ib.thumbnailRender",c+1,g.mediaObjectId,g.groupType,Q,B,W,V);l.emitNexusMetric(m);ea||(ea=!0,l.postCountMetric("chromeless-video"===k?"dppc_chromelessVideoAvailable":
"dppc_chromefulVideoAvailable"))}c++}if(d.useTabbedImmersiveView(a))return!1}),G(D,f,c,g),a.imageBlockRenderingStartTime&&l.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",n.now()-a.imageBlockRenderingStartTime));return c}function K(d,c){if(0!==c)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var e=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=d.children(".thumbTypeimage"),e=d.children(".thumbType"+e);f&&e&&f[c-1]&&b(f[c-1]).before(e[0]);
e=b(".unrolledScrollBox .list-unrolled");f=e.children(".unrolledImg.imgMedia");e=e.children(".unrolledImg.videoMedia");f&&e&&f[c-1]&&b(f[c-1]).before(e[0]);b(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var d=null,c=0;c<this.classList.length;c++)this.classList[c].includes("itemNo")&&(d=c);null!==d&&b(this).removeClass(this.classList[d]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else f=d.children(".imageThumbnail"),e=d.children(".videoBlockIngress"),
f&&e&&f[c-1]&&b(f[c-1]).before(e[0])}function N(a,b){var d=a.attr("src");if(d&&b){a.attr("src",b);var c=new Image;c.onload=function(b){a.attr("src",d)};c.src=d}}function h(b){a.autoplayVideo&&b&&!da&&(d.toggleVideoCaption(r),b.setVolume(0),b.show(),b.play(),da=!0)}function c(d){m&&m.pause();d.data=e;d.clickTimeStamp=d.$event.timeStamp;var c="a"===d.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";x.dispatch("imageClick",d);l.postTimeMetric("dpcc_vse_videoingressclick",d.$event.timeStamp);
d=l.buildNexusMetric("ib.thumbnailClick",d.data.thumbnailIndex+1,a.videos[0].mediaObjectId,a.videos[0].groupType,Q,B,W,V);l.emitNexusMetric(d);l.postCountMetric(c);b("#main-video-container .vjs-control-bar").css("display","none");b("#main-video-container .vjs-poster").css("display","inline-block")}function k(a){null!==m&&m!==U&&(m.frame&&m.frame.remove(),m=null,P.frame&&P.frame.remove(),P=null);P=a.player;b("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");
P.hide=function(){P.pause();n.$("#main-video-container").find(".vse-player-container").hide()};P.show=function(){n.$("#main-video-container").find(".vse-player-container").show()};P.getMediaSourceInfo=function(){return d.getMediaSourceInfo()}}function R(e,f,g,h,k,l){A(l);z=null!==l?b("#unrolledImgNo"+l.thumbnailIndex):h.find("#main-video-container");r=null!==l?"":z.parent().find("#video-canvas-caption");O=null!==l?b(".unrolledScrollBox"):b("#main-image-container");null===l&&d.isImageBlockGridViewDisplayEnabled()&&
(z.addClass("videoCenter"),h.find("#video-outer-container").addClass("videoWrapperCenter"));Q=w.location.href;e=q.getCurrentItem().color;!0===k?B=a.mediaAsin:(B=a.colorToAsin[e]&&a.colorToAsin[e].asin,B=d.isDefined(B)?B:a.mediaAsin);a.useChromelessVideoPlayer||z.addClass("chromeful-container");null!==l?u(l,"unrolled-video-add"):u(q.getCurrentItem(),"");d.useTabbedImmersiveView(a)&&n.declarative("videoIngressClick",["click"],c);if(-1!==m&&null!==l){e=q.getCurrentItem().color;var m=d.getVideoHash(e,
l.index,a);M.get(n,"#unrolledImgNo"+l.thumbnailIndex,{requester:"MediaBlockSoftlines",marketplaceID:m.marketPlaceID,clientPrefix:"mbSoftlines"+l.thumbnailIndex,locale:m.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:m.url,imageURL:m.slateUrl}},function(){n.$("#unrolledImgNo"+l.thumbnailIndex).find(".vse-player-container").show()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function g(a,
b){function d(a){a=Math.floor((D.width()-1)/g);a=c?a-1:a;b.slice(a).hide();b.slice(0,a).show();b.removeClass("overlayRestOfImages");a<b.length&&b.eq(a-1).addClass("overlayRestOfImages")}var c=0!=D.find(".item.videoThumbnail").length,e=b.eq(0).width(),f=b.eq(1).position().left-b.eq(0).position().left-e,g=e+f;d();a.register("resize",d)}function F(a){var b=D.find(".item.imageThumbnail");if(!(1>=b.length)){var d=b.eq(0).find("img").get(0);d!==U&&d.decode().then(function(){g(a,b)})}}var v,a,q,x,D,z,r,
O,S,m,f,e,p,P,B,Q,W,V,X,ba,Y,ea=!1,da=!1,aa="videoThumbnail",T=null;return function(c,g,h,m){v=this;a=c;q=g;x=m;f=a.airyConfig;W=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(X="tablet",V="applicationType.ImageBlock.vse_ib_tablet_web"):n.capabilities.tablet?(X="tablet",n.capabilities.isAmazonApp&&(V="applicationType.ImageBlock.vse_ib_tablet_app")):(X="desktop",V="desktop_web.ImageBlock.vse_ib_iv");
v.render=function(c,e,f,g,h,k){null!==T&&(clearInterval(T),T=null,z.parent().css("z-index",-1),r.hide());var l=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){D=b("ul.regularAltImageViewLayout");p=y(e,c,k);l=[];e=b(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var m=0;m<e.length;m++){var u=e[m].classList.contains("thumbTypechromeful-video")?"chromeful-video":
"chromeless-video",t=Number(e[m].classList[2].slice(10)),v=b(".thumbItemUnrolled").index(e[m]);l.push({color:c,thumbnailIndex:v,type:u,varient:"MAIN",index:t})}for(m=0;m<l.length;m++)R(c,f,g,h,k,l[m])}else D=g,p=y(e,c,k),R(c,f,g,h,k,null),c=q.getCurrentItem().color,f=d.getVideoHash(c,0,a),-1!==f&&(c=a.tabletWeb?d.getNilgiriServiceAjaxRequest(a,c,f):{requester:"MediaBlockSoftlines",marketplaceID:f.marketPlaceID,clientPrefix:"mbSoftlines",locale:f.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",
alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:f.url,imageURL:f.slateUrl}},M.get(n,"#main-video-container",c,function(){n.$("#main-video-container").find(".vse-player-container").hide()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));a.collapsibleThumbnails&&F(x);return p};d.isImageBlockGridViewHoverDelayEnabled()?v.update=function(b){null!==T&&(clearInterval(T),T=null,z.parent().css("z-index",-1),r.hide());var c=b.data;"ingress"===c.type||"swatchHover"===
b.type||d.lazyLoadingRequired(c,q,a)||(q.setToPreviousItem(),"mouseenter"===b.type?(Y&&clearTimeout(Y),Y=setTimeout(function(){q.setToCurrentItem(c);A(null)},d.getHoveringDelayTimer())):"mouseleave"===b.type?Y&&clearTimeout(Y):"click"===b.type&&(q.setToCurrentItem(c),A(null)));if("swatchHover"===b.type)"ingress"===c.type||d.lazyLoadingRequired(c,q,a)||A(null),c.color===q.getCurrentItem().color?u(q.getCurrentItem(),""):b.captured||d.lazyLoadingRequired(c,q,a)&&!d.lazyLoadOnHoverEnabled(a)&&u(q.getCurrentItem(),
"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var f=d.getVideoHash(c.color,c.index,a);"mouseenter"===b.type?(l.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+p),"chromeless-video"===c.type&&(f=l.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,f.mediaObjectId,f.groupType,Q,B,W,V),l.emitNexusMetric(f)),ba&&clearTimeout(ba),ba=setTimeout(function(){u(c,"");!a.usePeekHover&&n.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&d.selectGivenThumbnail(b.$declarativeParent,
D)},d.getHoveringDelayTimer())):"mouseleave"===b.type?ba&&clearTimeout(ba):"click"===b.type&&(u(c,""),n.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(d.selectGivenThumbnail(b.$declarativeParent,D),f=l.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,f.mediaObjectId,f.groupType,Q,B,W,V),(!d.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==X)&&l.emitNexusMetric(f),d.useTabbedImmersiveView(a)&&(l.emitNexusMetric(f),l.postCountMetric("dpcc_videoThumbClicked_"+
(c.thumbnailIndex+1)+"_"+p),e.action="videoIngressClick",e.clickTimeStamp=b.$event.timeStamp,e.$event=b.$event,e.$currentTarget=b.$currentTarget,x.dispatch("videoIngressClick",e),l.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:v.update=function(b){null!==T&&(clearInterval(T),T=null,z.parent().css("z-index",-1),r.hide());var c=b.data;"ingress"===c.type||d.lazyLoadingRequired(c,q,a)||A(null);if("swatchHover"===b.type)c.color===q.getCurrentItem().color?u(q.getCurrentItem(),""):
b.captured||d.lazyLoadingRequired(c,q,a)&&!d.lazyLoadOnHoverEnabled(a)&&u(q.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var f=d.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type&&(l.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+p),"chromeless-video"===c.type)){var g=l.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,f.mediaObjectId,f.groupType,Q,B,W,V);l.emitNexusMetric(g)}u(c,"");a.usePeekHover&&"click"!==b.type||!n.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||
(d.selectGivenThumbnail(b.$declarativeParent,D),"click"===b.type&&(f=l.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,f.mediaObjectId,f.groupType,Q,B,W,V),(!d.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==X)&&l.emitNexusMetric(f),d.useTabbedImmersiveView(a)&&(l.emitNexusMetric(f),l.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+p),e.action="videoIngressClick",e.clickTimeStamp=b.$event.timeStamp,e.$event=b.$event,e.$currentTarget=b.$currentTarget,x.dispatch("videoIngressClick",
e),l.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};a.isDPXFeatureEnabled&&(n.on("triggerVideoAjax",L),n.on("notShowVideoCountAjax",H));n.on("vsePlayer-imageblock_tablet",k);n.on("vsePlayer-mbsoftlines",k)}});"use strict";E.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(n,b){function d(b,d,G,L,H){function t(b){"click"===b.type&&L.postCountMetric("thumbClick");"click"===b.type&&v.overrideAltImageClickAction?a.dispatch("thumbActionClick",b):a.dispatch("updateSelection",
b)}function A(b){v.useClickZoom||a.dispatch("imageClick",b)}function C(b){v.useClickZoom||a.dispatch("imageHover",b)}function I(b){a.dispatch("button360Click",b)}function u(a){!G.isDefined(a)||"swatchClick"!==a.type&&"updatedData"!==a.type?(F.update(a),"swatchHover"!==a.type&&q.getPreviousItem().thumbnailIndex!==a.data.thumbnailIndex&&L.postCountMetric(a.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",a.data)):(F.render(a.data.color,!1,a.onload,a.type),a={hasComponents:!0,
components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof w.markFeatureRender&&w.markFeatureRender("imageblock",a))}function y(b){a.dispatch("resize",b)}function K(a){G.selectThumbnail(a,x)}function N(){if("function"===typeof w.markFeatureInteractive){var a=[],b=[];v.interactiveCallJSPEnabled?(a=["scroll"],b=["click"]):(a=["hover"],b=["click","hover"]);w.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:a,alwaysInteractive:!0},{name:"thumbnail",
events:b,alwaysInteractive:!0}]})}}function h(){"function"===typeof w.markFeatureInteractive&&w.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function c(){if(!v.interactiveCallJSPEnabled||n.useIV)N(),1===n.useIV?E.when("a-modal").execute(function(){h()}):h();v.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],t);b.declarative("thumb-action",["click"],t);b.declarative("main-image-click",
["click"],A);b.declarative("main-image-click",["mouseenter","mouseleave"],C);b.declarative("button-360-click",["click"],I);b.on("resize",y)}function k(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function R(a){var b=q.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}function g(a){G.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&G.updateThumbnailHoverDelay(a.$target)}var F,v,a,q,x;return function(b,h,l){F=this;v=b;a=h;q=l;x=d("#imageBlock #altImages ul");
var n=d("#imageBlock .canvas"),t=d("#main-image-container"),m;F.subViews=[];for(h=0;h<H.length;h++)F.subViews.push(new H[h](b,l,F,a));F.render=function(a,b,c,g){var h=0;x.find(".item").remove();a=a||q.getCurrentItem().color;d.each(F.subViews,function(d,k){h=(2===v.unrolledImageBlockTreatment||3===v.unrolledImageBlockTreatment?k.render(a,h,n,x,t,b,c,g):k.render(a,h,n,x,t,b,c))||h});var k=x.find(".a-button-selected").closest(".a-declarative");m=R(k)};F.init=function(){x=d("#imageBlock #altImages ul");
var b=x.find(".a-button-selected").closest(".a-declarative"),e=b.data("action"),b=b.data(e)||{};b.color=v.landingAsinColor||v.defaultColor;a.dispatch("updateModel",{data:b});F.render(b.color,!0);v.isDebug&&w.console&&console.log(v);a.register("updateView",u);a.register("selectThumbnail",K);c()};F.update=function(b){g(b);d.each(F.subViews,function(a,c){c.update(b)});v.usePeekHover&&("mouseleave"===b.type?a.dispatch("updateSelection",m):"click"===b.type&&(m=k(b)||m))}}}var U=["A","jQuery","imageBlockUtils",
"postMetric"].concat(n.views);E.when.apply(E,U).register("ImageBlockView",function(){for(var b=arguments[0],n=arguments[1],w=arguments[2],E=arguments[3],H=[],t=4,A=arguments.length;t<A;t++)H.push(arguments[t]);return d(b,n,w,E,H)})})});
/* ******** */
(function(B){var q=window.AmazonUIPageJS||window.P,sa=q._namespace||q.attributeErrors,c=sa?sa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):q;c.guardFatal?c.guardFatal(B)(c,window):c.execute(function(){B(c,window)})})(function(B,q,sa){B.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(c,d){var a;return function(d,c,ia,p){a=this;a.render=function(){};a.update=function(){}}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(c,d,a,x,g){function ia(){g.populateTitle(f.find("#ivTitle"),160,H)}function p(){var d=m.getCurrentItem().color;C=H.colorImages[d];z=H.heroImage[d];v=D=0;a.isDefined(z)&&(v=z.length);a.isDefined(C)&&(D=C.length)}function t(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=f.find("#ivStage").find("#ivLargeImage"),d=a.width(),c=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var m=g.width(),
l=g.height();0<g.length&&(g[0].naturalWidth&&(m=g[0].naturalWidth),g[0].naturalHeight&&(l=g[0].naturalHeight));a.css("cursor","auto");var m=0===m?1:m,l=0===l?1:l,p=Math.min(d/m,c/l),v=l*p,z=m*p;1>p?(y?a.css("cursor","url('"+H.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),k=!0):k=!1;m=Math.min(z,m);l=Math.min(v-20,l);g.css({"margin-top":(c-l)/2,"margin-left":(d-m)/2,height:l,width:m});a.css("visibility","visible");I=!1}
function B(a){var d=f.find("#ivLargeImage");d.css("visibility","hidden");d.empty();g.animateStageIn(d);d.append(a);q()}function N(m){f.find("#ivLargeImage").css("display","none");f.find("#ivLargeImage").css("display","block");var k;"hero-image"===m?a.isDefined(z)&&(k=t(z[w.index])):a.isDefined(C)&&(k=t(C[w.index]));if(a.isDefined(k)){f.find(".fullscreen").remove();var l=d("\x3cimg\x3e").attr("src",k).addClass("fullscreen"),p=f.find("#ivLargeImage");g.animateStageOut(p,function(){l.load(function(){B(l);
c.trigger("dp:image-block:imageBlockImmersiveImageLoad",w.index)});if(l[0].complete)B(l),c.trigger("dp:image-block:imageBlockImmersiveImageLoad",w.index);else{p.empty();var a=(p.height()-104)/2,f=(p.width()-80)/2;d("\x3cimg\x3e").attr("src",H.staticImages.spinner).css({position:"relative",top:a+"px",left:f+"px"}).appendTo(p)}})}}function O(a){f.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?w.type="hero-image":w.type="image";w.index=a.attr("id").split("_")[1];
N(w.type);x.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(w.index,10)+1)+"_"+(v+D))}function L(){f.delegate(".ivThumb","click",function(){var a=d(this);O(a)})}function M(a,d){return 0<d?d/2:Math.min(0,Math.max(d,a))}function P(a){var d=V.top-(a.pageY-u[1])*l;a=M(V.left-(a.pageX-u[0])*l,F.left);d=M(d,F.top);f.find(".fullscreen").css({left:a,top:d})}function Z(){f.delegate("#ivLargeImage","click",function(a){if(I)q();else if(k){f.find(".fullscreen").removeAttr("style");if(k){var d=f.find("#ivLargeImage"),
m=d.find(".fullscreen");y?d.css("cursor","url('"+H.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));I=!0;var g=f.find("#ivLargeImage");F.left=g.width()-m.width();F.top=g.height()-m.height();var g=d.height()/2,c=d.width()/2;u=[d.offset().left+c,d.offset().top+g];V.top=g-m.height()/2;V.left=c-m.width()/2;m.css({position:"relative",left:V.left,top:V.top});l=Math.max(m.height()/d.height(),m.width()/d.width())}P(a);x.postCountMetric("dpcc_iv_largeImageCLick")}});
f.delegate("#ivLargeImage","mousemove",function(a){I&&P(a)})}function fa(){f.find("#ivLargeImage").empty()}function W(c){if(Q){f=d("#ivMain");p();w=m.getCurrentItem();ia();g.populateVariationSelection(f.find("#ivVariationSelection"));c=f.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var k=v+D,l=0,t=0;l<k;)for(var u=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),x=0;4>x&&l<k;x++,l++,t++)if(t<v){var q=z[l].thumb,y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
l,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":l+1}).appendTo(u);y.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(q)+'") center no-repeat')}else t>=v&&t<D+v&&(q=C[l-v].thumb,y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(l-v),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":l-v+1}).appendTo(u),y.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(q)+'") center no-repeat'));J();Q=!1}else ia();c=d("#ivImagesTab").height();f.css("height",c);k=f.find("#ivTitle").outerHeight(!0);l=f.find("#ivVariationSelection").outerHeight(!0);t=f.find("#ivThumbs");u=g.getDimension(t,"margin-top")+g.getDimension(t,"margin-bottom");t.css("height",c-k-l-u);f.find("#ivLargeImage").css("height",c);c=f.find("#ivStage");k=f[0]&&f[0].getBoundingClientRect&&
Math.floor(f[0].getBoundingClientRect().width)||f.width();c.css("width",k-g.getDimension(f,"padding-left")-g.getDimension(f,"padding-right")-f.find("#ivThumbColumn").width()-g.getDimension(c,"margin-left")-g.getDimension(c,"margin-right"));w=m.getCurrentItem();c="hero-image"===w.type?f.find("#ivHeroImage_"+w.index):"image"===w.type?f.find("#ivImage_"+w.index):a.isDefined(z)?f.find("#ivHeroImage_"+w.index):f.find("#ivImage_"+w.index);a.isjQueryObjDefined(c)||(c=f.find("#ivImage_0"));O(c)}var ga,H,
m,f,z,C,v,D,w,y=navigator.userAgent.match(/msie|trident/i),Q=!0,I=!1,k=!1,F={},V={},l,u,Q=!0,J=c.once(function(){L();Z();g.attachImmersiveViewResizeHandler(W);g.attachTabDeselectHandler("ivImagesTab",fa)});return function(a,c,f,k){ga=this;H=a;m=c;ga.render=function(a,c,m,f,k,l){Q=!0;p();0===v+D?g.hideTabHeading("ivImagesTabHeading"):g.unhideTabHeading("ivImagesTabHeading");1===v+D?d("#ivThumbs").hide():d("#ivThumbs").show()};ga.update=function(a){};g.attachTabSelectHandler("ivImagesTab",W)}});"use strict";
B.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(c,d,a,x,g,ia,p){function t(){var a=L.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),f=a.find(".a-popover-inner"),a=a.height()-p.getDimension(f,"padding-top")-p.getDimension(f,"padding-bottom");d("#iv-tab-view-container").css("height",a);Z=d("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==
d(this).css("display")}).length;1<Z?(d("#iv-tab-view-container ul.iv-tab-views li").parent().show(),f=d("#iv-tab-view-container ul.iv-tab-views li").parent().height(),a-=f):d("#iv-tab-view-container ul.iv-tab-views li").parent().hide();d("#iv-tab-view-container .iv-tab-content").css("height",a);c.trigger("dp:image-block:immersive-view:resize")}function la(){c.trigger("dp:image-block:immersive-view:reset")}function ea(m){if(a.isImmersiveViewEnabled(O,L.getCurrentItem().color))if(W){var f=m.$event.originalEvent;
f.acknowledge&&f.acknowledge(m.$currentTarget[0]);g.isEnabled&&ia.logImmersiveViewRequestServed(g);x.postCountMetric("dppc_immersiveViewOpened");a.isDefined(m)&&("button-360-click"===m.action?d("#iv360TabHeading").click():"videoIngressClick"===m.action?(fa=m.clickTimeStamp,d("#ivVideosTabHeading").click()):"showroomIngressClick"===m.action?(fa=m.clickTimeStamp,d("#ivShowroomTabHeading").click()):d("#ivImagesTabHeading").click());f=L.getImmersiveViewModalInstance();if(a.isDefined(f))f.show();else{m=
d("#auiImmersiveViewDiv");var f=Math.min(Math.max(d(q).height()-150,540),1080),p=Math.min(Math.max(d(q).width()-75,990),1980),f=W.create(m,{name:"immersiveView",activate:"onclick",width:p,height:f,popoverLabel:"ImmersiveView",hideHeader:!0});L.setImmersiveViewModalInstance(f);m.click()}P&&(P=!1,ga(),c.trigger("dp:image-block:immersive-view:init"))}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else x.postCountMetric("immersiveViewNotExistsClickCount")}
var N,O,L,M,P=!0,Z=0,fa,W;B.when("a-modal").execute(function(a){W=a});var ga=c.once(function(){c.on("a:popover:afterUpdatePosition:immersiveView",t);c.on("a:popover:afterShow:immersiveView",t);c.on("a:popover:afterHide:immersiveView",la)}),H=c.once(function(){var a=d("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(f){var g=a.filter(".iv-active");g.attr("id")!==d(this).attr("id")&&c.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",f);a.removeClass("iv-active");
d(this).addClass("iv-active");d("#iv-tab-view-container .iv-tab-content").hide();g=d(this).find("a").attr("data-iv-tab-view");d("#"+g).show();"ivVideosTab"===g&&(f.clickTimeStamp=fa||f.timeStamp);c.trigger("dp:ivTabs:"+g+":select",f);x.postCountMetric("dppc_"+g);return!1})});return function(d,f,p,t){N=this;O=d;L=f;g.refToModel=L;M=t;N.render=function(a,d,c,g,f,m){x.postCountMetric("dpcc_altThumbs_"+d);P=!0};N.update=function(a){};N.getTitle=function(){};N.getVariationSelectionInfo=function(){};H();
a.isImmersiveViewEnabled(O,L.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");M.register("imageClick",ea);M.register("button360Click",ea);O.collapsibleThumbnails&&c.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&ea(a)});a.useTabbedImmersiveView(O)&&(M.register("videoIngressClick",ea),M.register("showroomIngressClick",ea))}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(c,d,a,x,g,ia,p,t){function la(e){return e.hiRes||e.large||e.main[e.main.length-1]}function ea(){h.find("#ivTitle").click(function(){aa.hide()})}function N(){r=Pa?{type:"360-spin"}:R.getCurrentItem()}function O(){var e=h.find("#ivStage"),a=aa.$container.find(".a-popover-wrapper"),d=a.find(".a-popover-inner"),a=a.height()-t.getDimension(d,"padding-top")-t.getDimension(d,"padding-bottom");h.css("height",a);
var d=h.find("#ivTitle").outerHeight(!0),b=h.find("#ivVariationSelection").outerHeight(!0),c=h.find("#ivMediaSelection").outerHeight(!0),g=h.find("#ivThumbs"),f=t.getDimension(g,"margin-top")+t.getDimension(g,"margin-bottom");g.css("height",a-d-b-c-f);h.find("#ivLargeImage").css("height",a);e.css("width",h.width()-t.getDimension(h,"padding-left")-t.getDimension(h,"padding-right")-h.find("#ivThumbColumn").width()-t.getDimension(e,"margin-left")-t.getDimension(e,"margin-right"))}function L(){h.find("#ivMediaSelect").change(function(){var e=
d(this).val();"all"===e?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").show(),"chromeful-video"===r.type&&h.find("#ivVideo_"+r.index).click()):"images"===e?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").hide(),"chromeful-video"===r.type&&(0===S&&0===G?h.find("#iv360").click():0===S?h.find("#ivHeroImage_0").click():h.find("#ivImage_0").click())):"videos"===e&&(h.find("#ivVideoList").show(),h.find("#ivThumbs").hide(),"chromeful-video"!==
r.type?h.find("#ivVideoList_0").click():h.find("#ivVideoList_"+r.index).click())})}function M(){var e=h.find("#ivStage").find("#ivLargeImage"),a=e.width(),d=e.height(),b=e.find(".fullscreen");b.removeAttr("style");var c=b.width(),g=b.height();0<b.length&&(b[0].naturalWidth&&(c=b[0].naturalWidth),b[0].naturalHeight&&(g=b[0].naturalHeight));e.css("cursor","auto");var c=0===c?1:c,g=0===g?1:g,f=Math.min(a/c,d/g),k=g*f,l=c*f;1>f?(Qa?e.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(e.css("cursor",
"-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in")),Aa=!0):Aa=!1;c=Math.min(l,c);g=Math.min(k-20,g);b.css({"margin-top":(d-g)/2,"margin-left":(a-c)/2,height:g,width:c});e.css("visibility","visible");Ba=!1}function P(e){var a=h.find("#ivLargeImage");a.css("visibility","hidden");a.empty();t.animateStageIn(a);a.append(e);M()}function Z(){A&&A.pause();h.find("#ivLarge360").css("display","none");h.find("#ivLargeVideo").css("display","none");h.find("#ivLargeImage").css("display",
"none");z()}function fa(e){Z();h.find("#ivLargeImage").css("display","block");var b;"hero-image"===e?a.isDefined(X)&&(b=la(X[r.index])):a.isDefined(ja)&&(b=la(ja[r.index]));if(a.isDefined(b)){h.find(".fullscreen").remove();var c=d("\x3cimg\x3e").attr("src",b).addClass("fullscreen"),g=h.find("#ivLargeImage");t.animateStageOut(g,function(){c.load(function(){P(c)});if(c[0].complete)P(c);else{g.empty();var e=(g.height()-104)/2,a=(g.width()-80)/2;d("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",
top:e+"px",left:a+"px"}).appendTo(g)}})}}function W(){var e=parseInt(r.index,10)+1;e>=ha.length||h.find("#ivVideo_"+e).click()}function ga(){var e;a.isDefined(ha)&&(e=ha[r.index]);if(a.isDefined(e)){Z();var b=h.find("#ivLargeVideo").css("display","block");A?(A.isDetached()&&A.attach(b[0]),a.loadMediaIntoAiry(A,e,xa,n.tabletWeb),A.show()):(A=a.createAiryInstanceForChromeful(b,e,xa,"ImmersiveView"),xa.enableContinuousPlay&&A.bind("ended",W));A.play({isAsync:!0})}}function H(){N();var e;e="hero-image"===
r.type?h.find("#ivHeroImage_"+r.index):"image"===r.type?h.find("#ivImage_"+r.index):"chromeful-video"===r.type||"chromeless-video"===r.type?h.find("#ivVideo_"+r.index):"360-spin"===r.type?h.find("#iv360"):a.isDefined(X)?h.find("#ivHeroImage_"+r.index):h.find("#ivImage_"+r.index);a.isjQueryObjDefined(e)||(e=h.find("#ivImage_0"));m(e)}function m(e){h.find(".ivThumb").removeClass("selected");e.addClass("selected");e.hasClass("ivThumbVideo")?(r.type="chromeful-video",r.index=e.attr("id").split("_")[1],
ga()):e.hasClass("ivHeroImage")?(r.type="hero-image",r.index=e.attr("id").split("_")[1],fa(r.type)):e.hasClass("iv360Image")?(r.type="360-spin",r.index=0,f()):(r.type="image",r.index=e.attr("id").split("_")[1],fa(r.type))}function f(){Z();h.find("#ivLarge360").css("display","block");y();var e=h.find("#ivLarge360");e.css({opacity:0});setTimeout(function(){e.css({opacity:.4});t.animateStageIn(e)},200);v();g.postCountMetric("dppc_click360");ta=Date.now()}function z(){0<ta&&(C("dppc_duration360",Date.now()-
ta),ta=0)}function C(e,a){q.ue&&q.ue.count(e,a)}function v(){if(0<qa){var e=h.find(".iv360Hint");e.removeClass("iv360HintFaded");e.animate({opacity:1},200)}}function D(e,a){if(qa<e.length){var b=d("\x3cimg /\x3e").css({display:"block",width:6*pa+"px",height:ua+"px"});b.hide();a.append(b);b.get(0).onload=function(){a.closest(document.documentElement).length&&(qa++,1===qa&&(v(),0<ta&&C("dppc_loadTime360",Date.now()-ta)),0<Ha&&C("dppc_perSpriteloadTime360",Date.now()-Ha),h.find("#iv360Spinner").hide(),
b.show(),ya=5*E.imageLocations[Math.floor(za/E.imageLocations[0].length)][za%E.imageLocations[0].length],D(e,a))};b.attr("src",e[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+va+"$2"+wa));Ha=Date.now()}}function w(e){if(a.isDefined(E.spriteWidthSizes)&&0<E.spriteWidthSizes.length){var b=E.spriteWidthSizes,d=b.length,c=b[0],g=b[d-1];if(e<=c)return c;if(e>g)return g;for(c=0;c<d;c++)if(e>b[c]&&e<=b[c+1])return b[c+1]}else return e}function y(){var e=h.find("#ivLarge360");e.children("#image-360-sprites").length||
(e.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),e.css({"margin-left":0,"margin-top":0,width:e.parent().width(),height:e.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),d("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(e),Ia=!0,Q())}function Q(){if(a.isDefined(E.spriteURLs)&&
a.isDefined(h)&&Ia&&!Ja){var e=h.find("#ivLarge360"),b=d("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(E.staticImages.hint360)&&d("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",E.staticImages.hint360).appendTo(b);d("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(b);b.appendTo(e);var b=E.imageWidth,c=E.imageHeight,g=e.parent().width(),f=e.parent().height(),
r=0,m=0;b/c>g/f?(va=w(g),wa=Math.round(c/b*va),pa=Math.ceil(g),ua=Math.ceil(wa/va*g),m=(f-ua)/2):(wa=w(f),va=Math.round(b/c*wa),ua=Math.ceil(f),pa=Math.ceil(va/wa*f),r=(g-pa)/2);e.css({"margin-left":r,"margin-top":m,width:pa+"px",height:ua+"px",overflow:"hidden",position:"relative"});e.children("#image-360-sprites").css("width",6*pa+"px");D(E.spriteURLs,h.find("#image-360-sprites"),0);b=h.find("#ivLarge360");b.bind("mousedown",V);b.bind("touchstart",I);b.bind("touchmove",k);b.bind("touchend",F);d(document).bind("mousemove",
l);d(document).bind("mouseup",u);a.isDefined(n.staticImages.grab)&&e.css("cursor","url('"+n.staticImages.grab+"'), auto");Ja=!0}}function I(e){Ca=!0;Ka=e.originalEvent.targetTouches[0].clientX}function k(e){Ca&&(J(e.originalEvent.targetTouches[0].clientX-Ka),Ka=e.originalEvent.targetTouches[0].clientX)}function F(e){Ca&&(Ca=!1)}function V(e){Da=!0;La=e.originalEvent.clientX;a.isDefined(n.staticImages.grabbing)&&(e=h.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),e.parents(".a-declarative").last().css("cursor",
"url('"+n.staticImages.grabbing+"'), auto"));return!1}function l(e){Da&&(J(e.originalEvent.clientX-La),La=e.originalEvent.clientX)}function u(e){Da&&(Da=!1,a.isDefined(n.staticImages.grab)&&(e=h.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grab+"'), auto"),e.parents(".a-declarative").last().css("cursor","auto")))}function J(e){for(e=ya-=e/pa*180;0>e;)e+=360;for(;360<e;)e-=360;ya=e;var b;e=360;for(var d=0;d<qa;d++)for(var c=0;c<E.imageLocations[d].length;c++){var g=Math.abs(ya-5*E.imageLocations[d][c]);
g<e&&(e=g,b=d*E.imageLocations[0].length+c)}b!==za&&(e=Math.floor(b/E.imageLocations[0].length),e!==Math.floor(za/E.imageLocations[0].length)&&(a.isDefined(Ma)||(Ma=document.createElement("canvas").getContext("2d")),d=h.find("#image-360-sprites").children(),Ma.drawImage(d[e],0,0)),e=h.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(e)&&(e.addClass("iv360HintFaded"),e.animate({opacity:0},750)));za=b;e=b%E.imageLocations[0].length*-1*pa;b=-1*Math.floor(b/E.imageLocations[0].length)*ua;d=h.find("#ivLarge360").children("#image-360-sprites");
d.css("-webkit-transform","translate3d("+e+"px, "+b+"px, 0)");d.css("transform","translate3d("+e+"px, "+b+"px, 0)")}function T(){h.delegate(".ivThumb","click",function(){var e=d(this);m(e)});h.delegate(".ivThumbVideoListOuter","click",function(){h.find(".ivThumbVideoListOuter").removeClass("selected");var e=d(this);e.addClass("selected");r.type="chromeful-video";r.index=e.attr("id").split("_")[1];ga()})}function ba(){A&&!A.isDetached()&&(xa.volume=A.getVolume(),A.detach(),!document.all||q.atob||document.addEventListener||
(A=null));h.find("#ivLargeImage").empty();z()}function ca(e,a){return 0<a?a/2:Math.min(0,Math.max(a,e))}function U(a){var b=ra.left-(a.pageX-Ea[0])*Fa;c.capabilities.rtl&&(b=ra.left-(d(q).width()-a.pageX-Ea[0])*Fa);a=ra.top-(a.pageY-Ea[1])*Fa;b=ca(b,Ga.left);a=ca(a,Ga.top);h.find(".fullscreen").css({left:b,top:a})}function ma(){h.delegate("#ivLargeImage","click",function(a){if(Ba)M();else if(Aa){h.find(".fullscreen").removeAttr("style");if(Aa){var b=h.find("#ivLargeImage"),d=b.find(".fullscreen");
Qa?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ba=!0;var c=h.find("#ivLargeImage");Ga.left=c.width()-d.width();Ga.top=c.height()-d.height();var c=b.height()/2,g=b.width()/2;Ea=[b.offset().left+g,b.offset().top+c];ra.top=c-d.height()/2;ra.left=g-d.width()/2;d.css({position:"relative",left:ra.left,top:ra.top});Fa=Math.max(d.height()/b.height(),d.width()/b.width())}U(a)}});h.delegate("#ivLargeImage",
"mousemove",function(a){Ba&&U(a)})}function da(e){if(a.isImmersiveViewEnabled(n,R.getCurrentItem().color))if(Na){var f=e.$event.originalEvent;f.acknowledge&&f.acknowledge(e.$currentTarget[0]);Pa=a.isDefined(e)&&"button-360-click"===e.action;ia.isEnabled&&p.logImmersiveViewRequestServed(ia);g.postCountMetric("dppc_immersiveViewOpened");if(a.isDefined(aa))aa.show();else{e=d("#auiImmersiveViewDiv");var f=d(q).height()-150,k=d(q).width()-75;aa=Na.create(e,{name:"immersiveView",activate:"onclick",width:k,
height:f,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(Oa){h=d("#ivMain");e=R.getCurrentItem().color;ja=n.colorImages[e];X=n.heroImage[e];ha=n.useChildVideos?n.colorToVideo[e]:n.videos;Ra=K()&&n.spin360ColorEnabled[e];E=K()?n.spin360ColorData[e]:sa;N();oa=G=b=S=0;a.isDefined(X)&&(G=X.length);a.isDefined(ja)&&(S=ja.length);a.isDefined(ha)&&(b=ha.length);Ra&&(oa=1);t.populateTitle(h.find("#ivTitle"),45,n);t.populateVariationSelection(h.find("#ivVariationSelection"));e=h.find("#ivMediaSelect");
0===S+oa||0===b?(e.parent().hide(),h.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),d("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(G+S+oa+b)+")").appendTo(e),d("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(G+S+oa)+")").appendTo(e),d("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+b+")").appendTo(e),e.parent().show(),e.val("all"));e=h.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();
for(var f=G+S+b+oa,l=k=0;k<f;)for(var r=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),m=0;3>m&&k<f;m++,k++,l++)if(l<G){var A=X[k].thumb,u=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+k).appendTo(r);u.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(A)+'") center no-repeat')}else if(l>=G&&l<S+G)A=ja[k-G].thumb,u=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(k-G)).appendTo(r),u.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(A)+'") center no-repeat');else if(l>=G+S&&l<S+G+oa)u=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(r),u.find(".ivThumbImage").css("background",'url("'+(a.isDefined(n.staticImages.icon360)?t.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(A=ha[k-S-G-oa],u=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(k-S-G-oa)).appendTo(r),u.find(".ivThumbImage").css("background",'url("'+A.thumbUrl+'") center no-repeat'),a.isDefined(A)){var v={position:"triggerTop"},x=h.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");x.find(".ivVideoPopoverTitle").text(A.title);x.find(".ivVideoPopoverDuration").text(A.durationTimestamp);v.inlineContent=x[0];c.declarative.create(u,"a-tooltip",v)}e=h.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
f=e.find(".placeholder");for(k=0;k<b;k++)l=ha[k],r=f.clone().removeClass("placeholder").appendTo(e),r.attr("id","ivVideoList_"+k),r.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),r.find(".ivThumbTitle").text(l.title),r.find(".ivThumbDuration").text(l.durationTimestamp);h.find("#ivLarge360").empty();qa=0;Ja=Ia=!1;xa=n.airyConfig;Oa=!1;Sa()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else g.postCountMetric("immersiveViewNotExistsClickCount")}function na(b){var d=n.colorToAsin[b],c={},f=500;if(d&&d.asin){c.params={asin:d.asin};var k="360"+d.asin,h=Date.now();c.success=function(d){C("dppc_asyncRequestTime360",Date.now()-h);d&&a.isDefined(d.spin360.spin360Model)?(a.ajaxState(k,"success"),n.spin360ColorData[b]=d.spin360.spin360Model,b===R.getCurrentItem().color&&(E=n.spin360ColorData[b],Q())):c.error()};c.error=function(){g.postCountMetric("dppc_asyncFailed360");C("dppc_asyncRequestTime360",
Date.now()-h);f*=2;16E3>=f?setTimeout(function(){h=Date.now();x.load("/gp/product/features/apparel-main-image/360.html",c)},f):a.ajaxState(k,"fail")};a.ajaxState(k)&&"fail"!==a.ajaxState(k)||(x.load("/gp/product/features/apparel-main-image/360.html",c),a.ajaxState(k,"sent"))}}function K(){return a.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var Y,n,R,ka,aa,h,X,ja,ha,G,S,b,oa,r,A,xa,E,Ra,pa,ua,wa,va,La,Ka,Pa=!1,Ia=!1,Ja=!1,ya=0,za=0,ta=0,Ha=0,Da=!1,Ca=!1,qa=0,Ma,Qa=navigator.userAgent.match(/msie|trident/i),
Oa=!0,Ba=!1,Aa=!1,Ga={},ra={},Fa,Ea,Na;B.when("a-modal").execute(function(a){Na=a});var Sa=c.once(function(){L();T();ma();c.on("a:popover:afterUpdatePosition:immersiveView",O);c.on("a:popover:afterShow:immersiveView",H);c.on("a:popover:afterHide:immersiveView",ba);ea()});return function(b,f,k,h){Y=this;n=b;R=f;ia.refToModel=R;ka=h;K()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);a.isDefined(n.staticImages.icon360)&&
d("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",t.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));Y.render=function(b,e,d,f,k,h){Oa=!0;K()&&n.spin360ColorEnabled[b]&&!a.isDefined(n.spin360ColorData[b])&&(n.spin360ColorData[b]={},na(b));a.isImmersiveViewEnabled(n,R.getCurrentItem().color)&&K()&&n.spin360ColorEnabled[b]&&(e===n.maxAlts&&(b=f.find(".item.imageThumbnail"),d=f.find(".item.videoThumbnail"),a.isDefined(d)&&1<d.length?d.last().remove():b.last().remove(),
e--),b=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(b,"button-360-click"),f.append(b),e++,g.postCountMetric("dppc_display360"));return e};Y.update=function(b){};a.isImmersiveViewEnabled(n,R.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");ka.register("imageClick",da);ka.register("button360Click",da)}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(c,d,a,x,g,q,p,t,B){function ea(){var b=d("#iv360Tab").height();l.css("height",b);var a=l.find("#ivTitle360").outerHeight(!0),c=l.find("#ivVariationSelection360").outerHeight(!0),g=l.find("#ivThumbs360"),f=p.getDimension(g,"margin-top")+p.getDimension(g,"margin-bottom");g.css("height",b-a-c-f);b=l.find("#ivStage360");a=l[0]&&l[0].getBoundingClientRect&&Math.floor(l[0].getBoundingClientRect().width)||
l.width();b.css("width",a-p.getDimension(l,"padding-left")-p.getDimension(l,"padding-right")-l.find("#ivThumbColumn360").width()-p.getDimension(b,"margin-left")-p.getDimension(b,"margin-right"))}function N(){P();var b=l.find("#ivLarge360");b.css({opacity:0});setTimeout(function(){b.css({opacity:.4});p.animateStageIn(b)},200);O()}function O(){if(0<h){var b=l.find(".iv360Hint");b.removeClass("iv360HintFaded");b.animate({opacity:1},200)}}function L(b,a){if(h<b.length){var c=d("\x3cimg /\x3e").css({display:"block",
width:6*J+"px",height:T+"px"});c.hide();a.append(c);c.get(0).onload=function(){a.closest(document.documentElement).length&&(h++,1===h&&(O(),0<n&&(g.time("dppc_loadTime360",Date.now()-n,k.mediaAsin),q.postTimeMetric("dppc_loadTime360",Date.now()-n))),0<R&&(g.time("dppc_perSpriteloadTime360",Date.now()-R,k.mediaAsin),q.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-R)),l.find("#iv360Spinner").hide(),c.show(),K=5*u.imageLocations[Math.floor(Y/u.imageLocations[0].length)][Y%u.imageLocations[0].length],
L(b,a))};c.attr("src",b[h].replace(/(\._SP)\d+(,)\d+/,"$1"+ca+"$2"+ba));R=Date.now()}}function M(b){if(a.isDefined(u.spriteWidthSizes)&&0<u.spriteWidthSizes.length){var d=u.spriteWidthSizes,c=d.length,g=d[0],f=d[c-1];if(b<=g)return g;if(b>f)return f;for(g=0;g<c;g++)if(b>d[g]&&b<=d[g+1])return d[g+1]}else return b}function P(){var a=l.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),
height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),d("\x3cimg\x3e").attr("src",k.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),da=!0,Z())}function Z(){if(a.isDefined(u.spriteURLs)&&a.isDefined(l)&&da&&!na){var b=l.find("#ivLarge360"),c=d("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(u.staticImages.hint360)&&d("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",u.staticImages.hint360).appendTo(c);d("\x3cdiv\x3e").css({"text-align":"center"}).text(k.staticStrings.dragToSpin).appendTo(c);c.appendTo(b);var c=u.imageWidth,g=u.imageHeight,h=b.parent().width(),n=b.parent().height(),X=0,p=0;c/g>h/n?(ca=M(h),ba=Math.round(g/c*ca),J=Math.ceil(h),T=Math.ceil(ba/ca*h),p=(n-T)/2):(ba=M(n),
ca=Math.round(c/g*ba),T=Math.ceil(n),J=Math.ceil(ca/ba*n),X=(h-J)/2);b.css({"margin-left":X,"margin-top":p,width:J+"px",height:T+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*J+"px");L(u.spriteURLs,l.find("#image-360-sprites"),0);c=l.find("#ivLarge360");c.bind("mousedown",H);c.bind("touchstart",fa);c.bind("touchmove",W);c.bind("touchend",ga);d(document).bind("mousemove",m);d(document).bind("mouseup",f);a.isDefined(k.staticImages.grab)&&b.css("cursor",
"url('"+k.staticImages.grab+"'), auto");na=!0}}function fa(a){aa=!0;ma=a.originalEvent.targetTouches[0].clientX}function W(a){aa&&(z(a.originalEvent.targetTouches[0].clientX-ma),ma=a.originalEvent.targetTouches[0].clientX)}function ga(a){aa&&(aa=!1)}function H(b){ka=!0;U=b.originalEvent.clientX;a.isDefined(k.staticImages.grabbing)&&(b=l.find("#ivLarge360"),b.css("cursor","url('"+k.staticImages.grabbing+"'), auto"),b.parents(".a-declarative").last().css("cursor","url('"+k.staticImages.grabbing+"'), auto"));
return!1}function m(a){ka&&(z(a.originalEvent.clientX-U),U=a.originalEvent.clientX)}function f(b){ka&&(ka=!1,a.isDefined(k.staticImages.grab)&&(b=l.find("#ivLarge360"),b.css("cursor","url('"+k.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function z(b){K-=b/J*180;ja&&(g.count("dppc_360dragToSpin",k.mediaAsin),q.postCountMetric("dppc_360dragToSpin"));ja=!1;for(b=K;0>b;)b+=360;for(;360<b;)b-=360;K=b;var d;b=360;for(var c=0;c<h;c++)for(var f=0;f<u.imageLocations[c].length;f++){var m=
Math.abs(K-5*u.imageLocations[c][f]);m<b&&(b=m,d=c*u.imageLocations[0].length+f)}d!==Y&&(b=Math.floor(d/u.imageLocations[0].length),b!==Math.floor(Y/u.imageLocations[0].length)&&(a.isDefined(X)||(X=document.createElement("canvas").getContext("2d")),c=l.find("#image-360-sprites").children(),X.drawImage(c[b],0,0)),b=l.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));Y=d;b=d%u.imageLocations[0].length*-1*J;d=-1*Math.floor(d/u.imageLocations[0].length)*
T;c=l.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+b+"px, "+d+"px, 0)");c.css("transform","translate3d("+b+"px, "+d+"px, 0)")}function C(){if(G){l=d("#ivMain360");var a=F.getCurrentItem().color;D()&&w(a);u=D()?k.spin360ColorData[a]:sa;p.populateTitle(l.find("#ivTitle360"),160,k);p.populateVariationSelection(l.find("#ivVariationSelection360"));l.find("#ivLarge360").empty();h=0;na=da=!1;Y=K=0;S();G=!1}0!==d("#iv360Tab").height()&&(p.detachImmersiveViewResizeHandler(C),
ea(),N(),n=Date.now(),ha=ja=!0,g.count("dppc_click360",k.mediaAsin),q.postCountMetric("dppc_click360"))}function v(b,d,c){b=k.colorToAsin[c];var f={},h=500;if(!b||!b.asin)if(c===k.defaultColor)b={asin:k.winningAsin};else return;f.params={asin:b.asin};var l="360"+b.asin,m=Date.now();f.success=function(b){g.time("dppc_asyncRequestTime360",Date.now()-m,k.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);b&&a.isDefined(b.spin360)?((b=b.spin360.spin360Model)&&t.setData(b),a.ajaxState(l,
"success")):f.error()};f.error=function(){g.count("dppc_asyncFailedTransient360",k.mediaAsin);q.postCountMetric("dppc_asyncFailedTransient360");g.time("dppc_asyncRequestTime360",Date.now()-m,k.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);h*=2;16E3>=h?setTimeout(function(){m=Date.now();x.load("/gp/product/features/apparel-main-image/360.html",f)},h):(g.count("dppc_asyncFailed360",k.mediaAsin),q.postCountMetric("dppc_asyncFailed360"),a.ajaxState(l,"fail"))};a.ajaxState(l)&&"fail"!==
a.ajaxState(l)||(x.load("/gp/product/features/apparel-main-image/360.html",f),a.ajaxState(l,"sent"))}function D(){return k&&a.isDefined(k.spin360ConfigEnabled)&&k.spin360ConfigEnabled}function w(b){return a.isDefinedAndNotEmpty(k.spin360ColorData[b])?!0:a.isDefined(k.spin360LazyLoadEnabled)&&k.spin360LazyLoadEnabled}function y(){ha&&(g.time("dppc_duration360",Date.now()-n,k.mediaAsin),q.postTimeMetric("dppc_duration360",Date.now()-n),ha=!1)}function Q(a){a=k.colorToAsin[a.color]&&k.colorToAsin[a.color].asin;
a||(a=k.mediaAsin);return a}var I,k,F,V,l,u,J,T,ba,ca,U,ma,da=!1,na=!1,K=0,Y=0,n=0,R=0,ka=!1,aa=!1,h=0,X,ja=!0,ha=!1,G=!0,S=c.once(function(){p.attachImmersiveViewResizeHandler(C);p.attachImmersiveViewResizeHandler(ea);p.attachImmersiveViewResetHandler(y);p.attachTabDeselectHandler("iv360Tab",y)});return function(b,f,h,l){I=this;k=b;F=f;V=l;b=k.landingAsinColor;f=k.defaultColor;a.isDefined(k.staticImages.icon360)&&d("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",p.addStyleCodeToURL(k.staticImages.icon360,
"_FMpng_RI_"));D()&&(k.spin360ColorData||(k.spin360ColorData={}),b===f&&a.isDefinedAndEmpty(k.spin360ColorData[f])&&delete k.spin360ColorData[f]);c.on(B.TWISTER_DATA_EVENT,function(a){Q(F.getCurrentItem())===a&&(u=t.getData(a),Z(),a={type:"updatedData",data:F.getCurrentItem()},V.dispatch("updateView",a))});I.render=function(b,f,h,l,m,n){G=!0;!D()||a.isDefinedAndEmpty(k.spin360ColorData[b])&&!t.getData(Q(F.getCurrentItem()))?p.hideTabHeading("iv360TabHeading"):(k.spin360ColorData[b]=t.getData(Q(F.getCurrentItem())),
a.isDefinedAndNotEmpty(k.spin360ColorData[b])?(d("#ivThumbs360").hide(),p.unhideTabHeading("iv360TabHeading"),a.isImmersiveViewEnabled(k,F.getCurrentItem().color)&&D()&&w(b)&&(f===k.maxAlts&&(b=l.find(".item.imageThumbnail"),f=l.find(".item.videoThumbnail"),a.isDefined(f)&&1<f.length?f.last().remove():b.last().remove()),b=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(b,"button-360-click"),l.append(b),g.count("dppc_display360",
k.mediaAsin),q.postCountMetric("dppc_display360"))):a.isDefined(k.spin360LazyLoadEnabled)&&k.spin360LazyLoadEnabled?(k.spin360ColorData[b]={},p.hideTabHeading("iv360TabHeading"),v(l,f,b)):p.hideTabHeading("iv360TabHeading"))};I.update=function(a){};p.attachTabSelectHandler("iv360Tab",C)}});B.register("nexusLogger360",function(){return{count:function(c,d){q.ue&&q.ue.event({asin:d,metricName:c,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(c,d,a){q.ue&&q.ue.event({asin:a,metricName:c,
metricValue:d},"hit-360","hit360.clientEvent.3")}}});B.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});B.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(c,d){var a={};return{setData:function(q){var g=q.asin;a[g]||(a[g]=q,c.trigger(d.TWISTER_DATA_EVENT,g))},getData:function(d){return a[d]}}});"use strict";B.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(c){function d(){this.render=function(){};this.update=
function(){}}return function(a,q,g,ia){var p=!1,t=new d;B.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(d){d!==sa&&(p=!0,t=new d(a,q,g,ia))});a&&!0===a.showroomEnabled&&!1===p&&c.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return t}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(c,
d,a,x,g,B,p){function t(){v.delegate(".ivThumb","click",function(){var a=d(this);v.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")&&(D.type="chromeful-video",D.index=a.attr("id").split("_")[1])})}function la(){if(da){var a=d("#ivVideosTab").height();v.css("height",a);var c=v.find(".vse-lb-container");w=a-g.getDimension(c,"padding-top")-g.getDimension(c,"padding-bottom");c.css({"max-height":a,overflow:"hidden"});if(ba){v.css({"max-width":Math.floor(1.77*w)});
return}var a=v.find(".vse-player-container"),c=v.find(".vse-video-action-strip"),f=v.find(".vse-lb-video-metadata"),h=Math.floor(w-g.getDimension(f,"height")-g.getDimension(c,"height")),k=Math.floor(1.77*h);a.css({"max-height":h,"max-width":k,marginLeft:"auto",marginRight:"auto"});f.css({"max-width":k,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":k,marginLeft:"auto",marginRight:"auto"})}ca&&(a=v.find(".vse-vertical-scroll"),c=g.getDimension(a,"margin-top")+g.getDimension(a,"margin-bottom"),
a.css("max-height",w-c))}function ea(){N();y&&y.pause();U=!1;J=!0;F=null;ma=!0;da=!1}function N(){U=!1;y&&y.pause()}function O(g){F=g.clickTimeStamp?g.clickTimeStamp:c.now();a.isDefined(C)&&(C.eventTimestamp=F);U=!0;T&&(p.get(c,"#ivVideoBlock",z,aa,h),v=d("#ivVideoBlock"),f.getCurrentItem(),D=f.getCurrentItem(),n(),W());la();T=!1;P()}function L(a){T&&(v=d("#ivVideoBlock"),f.getCurrentItem(),D=f.getCurrentItem(),n());U&&P();la()}function M(a){y=a.player;x.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
c.now()-Y);m.imageBlockRenderingStartTime&&x.postTimeMetric("vse_ib_desktop_time_to_player_interactive",c.now()-m.imageBlockRenderingStartTime);da&&(W(),P())}function P(){if(y&&U&&(v.find(".vse-lb-container").animate({opacity:1},200),y.play(C),x.postCountMetric("dpcc_vse_videoBlock_video_played"),J)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,x.postTimeMetric("dpcc_vse_vitff",a),J=!1)}}function Z(){c.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function fa(a){Q=
a.popover.$popover;da=!0;W()}function W(){if(da&&ma&&U&&y){Q.addClass(c.$(Q).find(".vse-lb-container").data("cssClass"));var a=C;na&&(a=K,na=!1);c.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});la();ma=!1}}function ga(a){document.getElementsByClassName("videoBlockIngress")[0].click();K=a;na=!0}var H,m,f,z,C,v,D,w,y,Q,I,k,F,V,l,u,J=!0,T=!0,ba=!1,ca=!1,U=!1,ma=!0,da=!1,na=!1,K,Y=0,n=c.once(function(){t();g.attachImmersiveViewResizeHandler(L);g.attachTabDeselectHandler("ivVideosTab",
N);g.attachImmersiveViewResetHandler(ea)}),R=function(c,g,h){d("#ivVideoBlockSpinner").addClass("aok-hidden");x.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+g.placement);c=f.getCurrentItem().color;c=a.getVideoHash(c,0,m);y||(y=a.createAiryInstanceForChromeful(d("#ivVideoBlock"),c,m.airyConfig,"ImmersiveView"));ba=!0;d("#ivVideoBlock").css({"max-width":1.77*w,margin:"0 auto"});U&&ba&&y.play({isAsync:!0})},ka=function(a,c,f){T||p.get(a,"#ivVideoBlock",z,aa,h);d("#ivVideoBlockSpinner").addClass("aok-hidden")},
aa=function(a,c,d){ca=!0;la()},h=function(a,c,d){x.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};return function(d,h,n,p){H=this;m=d;f=h;H.render=function(d,b,h,n,p,q){d=f.getCurrentItem().color;b=a.getVideoHash(d,0,m);!0===q?I=m.mediaAsin:(I=m.colorToAsin[d]&&m.colorToAsin[d].asin,I=a.isDefined(I)?I:m.mediaAsin);k=null!==m.vseVideoDataSourceTreatment&&"T1"===m.vseVideoDataSourceTreatment?"ASIN":"physicalID";V=m.contentWeblab;l=m.contentWeblabTreatment;
u=m.parentAsin||"";T=!0;-1===b?g.hideTabHeading("ivVideosTabHeading"):(g.unhideTabHeading("ivVideosTabHeading"),z={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,locale:b.languageCode,product:{contentID:I,contentIDType:"ASIN",parentContentID:u,parentContentIDType:"ASIN"},video:{contentID:b.mediaObjectId,contentIDType:k,videoURL:b.url,imageURL:b.slateUrl},requestId:m.dpRequestId,weblabContext:[{name:V,assignment:l,ignoreForG2S2Key:!0}],metadata:{ProductTitle:m.title}},
C={videoUrl:z.video.videoURL,contentId:z.video.contentID,duration:0,vendorCode:"",eventTimestamp:a.isDefined(F)?F:c.now(),imageUrl:z.video.imageURL,productAsin:z.product.contentID,index:0},a.isDefinedAndNotEmpty(y)&&(y.destroy(),y=null),Y=c.now(),B.get(c,"#ivVideoBlock",z,ka,R))};H.update=function(a){};g.attachTabSelectHandler("ivVideosTab",O);c.on("vsePlayer-detailpage-imageblock",M);c.on("a:popover:afterShow:immersiveView",fa);c.on("a:popover:beforeHide:immersiveView",Z);c.on("detailpage-imageblock-leave-pip",
ga)}})});
/* ******** */
(function(b){var f=window.AmazonUIPageJS||window.P,h=f._namespace||f.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,f,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,e=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(e&&0<e.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=d("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,e,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+g[g.length-1];for(b=1;b<g.length;b++)if(c<=g[b]){a="image_size_bucket:"+g[b-1]+"-"+g[b];break}k.postCountMetric(a);e.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;e.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=f.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var b=f.ue;b&&b.count(a,c)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(a,b,d,e,k,g,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:e,pageUrl:k,pageAsin:g,weblabIds:f}}}});b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var e=a.state("desktop-landing-image-data");e&&(e=a.values(e),b=b.getResourceTimeByName("img",e),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",f.parseInt(a.transferSize)),
d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,e=m?m("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,m){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(c){c&&(l.load.js(c),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(c){c&&l.load.css(c)}
var c=e.airyConfig;c===m?l.when("ImageBlockBTF").execute(function(e){c=e.airyConfig;f(c.jsUrl);k(c.cssUrl)}):(f(c.jsUrl),k(c.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,d){var b;
if(d.repositionHeroImage){b=a[1];var c=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))b*=.7,c*=.7;else{var e=((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,e=Math.max(Math.min(e,1),0);b*=.7+.3*e;c*=.7+.3*e}b=[b,c]}return b}function c(a,d,b){var c;if(b.repositionHeroImage){var e=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){c=Math.max((e-
Math.min(1500,a))/2,0);var k=Math.max((e-a)/2,0);c-=k;e=Math.max(Math.min(e,1500),1024);c=c+(e-420-23)/2-a/d[1]*b}}return c}function h(a,d,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[d])&&f.isDefined(a[d][b])&&f.isDefined(a[d][b].main))||1>e.map(a[d][b].main,function(a,b){return b}).length?-1:a[d][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,d,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,d.color,d.index);if(-1===b)return;d=e.map(b.main,function(a,b){return b})[0];
b=b.main[d]}d=k(b,a);a=c(d[0],b,a);return{height:d[1],width:d[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function c(a,d){var b=e.copy(a);if(k.isDefined(a)&&a.length>d){try{for(var c=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)c=h;if(h===d-4){b=a.substring(0,-1===c?h:c);break}}}catch(g){b=a.substring(0,d-3)}b+="..."}return b}function h(a,d){var b=a.lastIndexOf(".");
return a="_"===a.charAt(b-1)?a.substring(0,b-1)+d+a.substring(b):a.substring(0,b)+"."+d+a.substring(b)}return{getDimension:function(a,d){var b=parseInt(a.css(d),10);return isNaN(b)?0:b},attachTabSelectHandler:function(a,d){e.on("dp:ivTabs:"+a+":select",d)},attachTabDeselectHandler:function(a,d){e.on("dp:ivTabs:"+a+":deselect",d)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,d){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";d&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&
k.isDefined(g.DetailPage.StateController)){a.empty();var d=g.DetailPage.StateController.getState(),b=d.variation_label_order,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c],h=d.selected_variations[e],e=d.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,d,b){a.html(b.title);a.attr("title",a.text());a.html(c(b.title,d))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,e){g.ueLogError&&g.ueLogError(e,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(c,h){try{var a=c.A,d=c.block,b=c.request,g=c.handleFailure,l=c.handleSuccess,r=a.$;h--;var n=
3-h-1,p=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(c){var h=a.now()-p;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+n);r(d).html(c);l(a,b,c)},error:function(d){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+n);(0===d.http.status||500<=d.http.status&&599>=
d.http.status)&&0<h?k(c,h):(e.postCountMetric("vse_preLoaderHook:error:",1),g(a,b,d))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(c,h,a){try{var d=c.A,b=c.context,g=c.handleFailure,l=c.handleSuccess;h.attr("data-configuration");var r=atob(h.attr("data-configuration")),n=JSON.parse(r),p={pageContext:b,configuration:n},
q=d.now();a--;var m=3-a-1;d.ajax("/vap/ew/subcomponent/"+n.type,{params:p,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",c);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+n.type+":"+m);h.html(a);l(d,p,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+n.type+":"+m);(0===f.http.status||
500<=f.http.status&&599>=f.http.status)&&0<a?k(c,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",1),g(d,p,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(c,e,a,d,b){var f=c.$;f(e+" div[data-configuration]").each(function(){k({A:c,context:a,handleFailure:b,handleSuccess:d},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(c,h,a){try{var d=c.A,b=c.block,g=c.request,l=c.handleFailure,m=c.handleSuccess,n=d.$;a--;var p=3-a-
1,q=d.now();d.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",c);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+p);n(b).html(a);m(d,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+p);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(c,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(d,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
